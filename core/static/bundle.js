/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={838:()=>{window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("citation-references"),e=null==t?void 0:t.querySelector("button"),n=null==t?void 0:t.querySelector("code");e&&e.addEventListener("click",(function(){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n.textContent)),t.setAttribute("download","bibliography.json"),t.style.display="none",document.body.appendChild(t),t.click(),t.remove()}))}))},187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}y(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&y(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,a,c;if(s(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),a=o[e]),void 0===a)a=o[e]=n,++t._eventsCount;else if("function"==typeof a?a=o[e]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(t))>0&&a.length>i&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=t,h.type=e,h.count=a.length,c=h,console&&console.warn&&console.warn(c)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function l(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function y(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[t];if(void 0===u)return!1;if("function"==typeof u)r(u,this,e);else{var c=u.length,h=p(u,c);for(n=0;n<c;++n)r(h[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return s(e),this.on(t,f(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,f(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,a;if(s(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,a||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return l(this,t,!0)},o.prototype.rawListeners=function(t){return l(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},691:function(t){t.exports=function(){"use strict";function t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function e(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?t(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}var h=1/0;function f(t){return null==t?"":function(t){if("string"==typeof t)return t;var e=t+"";return"0"==e&&1/t==-h?"-0":e}(t)}function l(t){return"string"==typeof t}function d(t){return"number"==typeof t}function p(t){return!0===t||!1===t||function(t){return y(t)&&null!==t}(t)&&"[object Boolean]"==m(t)}function y(t){return"object"===n(t)}function g(t){return null!=t}function v(t){return!t.trim().length}function m(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var _=function(t){return"Missing ".concat(t," property in key")},b=function(t){return"Property 'weight' in key '".concat(t,"' must be a positive integer")},w=Object.prototype.hasOwnProperty,x=function(){function t(e){var n=this;r(this,t),this._keys=[],this._keyMap={};var i=0;e.forEach((function(t){var e=k(t);i+=e.weight,n._keys.push(e),n._keyMap[e.id]=e,i+=e.weight})),this._keys.forEach((function(t){t.weight/=i}))}return o(t,[{key:"get",value:function(t){return this._keyMap[t]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),t}();function k(t){var e=null,n=null,r=null,i=1,o=null;if(l(t)||c(t))r=t,e=M(t),n=E(t);else{if(!w.call(t,"name"))throw new Error(_("name"));var a=t.name;if(r=a,w.call(t,"weight")&&(i=t.weight)<=0)throw new Error(b(a));e=M(a),n=E(a),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function M(t){return c(t)?t:t.split(".")}function E(t){return c(t)?t.join("."):t}var A={useExtendedSearch:!1,getFn:function(t,e){var n=[],r=!1;return function t(e,i,o){if(g(e))if(i[o]){var a=e[i[o]];if(!g(a))return;if(o===i.length-1&&(l(a)||d(a)||p(a)))n.push(f(a));else if(c(a)){r=!0;for(var s=0,u=a.length;s<u;s+=1)t(a[s],i,o+1)}else i.length&&t(a,i,o+1)}else n.push(e)}(t,l(e)?e.split("."):e,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},S=e(e(e(e({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(t,e){return t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),A),L=/[^ ]+/g;var N=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getFn,i=void 0===n?S.getFn:n,o=e.fieldNormWeight,a=void 0===o?S.fieldNormWeight:o;r(this,t),this.norm=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,e);return{get:function(e){var i=e.match(L).length;if(n.has(i))return n.get(i);var o=1/Math.pow(i,.5*t),a=parseFloat(Math.round(o*r)/r);return n.set(i,a),a},clear:function(){n.clear()}}}(a,3),this.getFn=i,this.isCreated=!1,this.setIndexRecords()}return o(t,[{key:"setSources",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=t}},{key:"setIndexRecords",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=t}},{key:"setKeys",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=e,this._keysMap={},e.forEach((function(e,n){t._keysMap[e.id]=n}))}},{key:"create",value:function(){var t=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,l(this.docs[0])?this.docs.forEach((function(e,n){t._addString(e,n)})):this.docs.forEach((function(e,n){t._addObject(e,n)})),this.norm.clear())}},{key:"add",value:function(t){var e=this.size();l(t)?this._addString(t,e):this._addObject(t,e)}},{key:"removeAt",value:function(t){this.records.splice(t,1);for(var e=t,n=this.size();e<n;e+=1)this.records[e].i-=1}},{key:"getValueForItemAtKeyId",value:function(t,e){return t[this._keysMap[e]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(t,e){if(g(t)&&!v(t)){var n={v:t,i:e,n:this.norm.get(t)};this.records.push(n)}}},{key:"_addObject",value:function(t,e){var n=this,r={i:e,$:{}};this.keys.forEach((function(e,i){var o=e.getFn?e.getFn(t):n.getFn(t,e.path);if(g(o))if(c(o))!function(){for(var t=[],e=[{nestedArrIndex:-1,value:o}];e.length;){var a=e.pop(),s=a.nestedArrIndex,u=a.value;if(g(u))if(l(u)&&!v(u)){var h={v:u,i:s,n:n.norm.get(u)};t.push(h)}else c(u)&&u.forEach((function(t,n){e.push({nestedArrIndex:n,value:t})}))}r.$[i]=t}();else if(l(o)&&!v(o)){var a={v:o,n:n.norm.get(o)};r.$[i]=a}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),t}();function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?S.getFn:r,o=n.fieldNormWeight,a=void 0===o?S.fieldNormWeight:o,s=new N({getFn:i,fieldNormWeight:a});return s.setKeys(t.map(k)),s.setSources(e),s.create(),s}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.errors,r=void 0===n?0:n,i=e.currentLocation,o=void 0===i?0:i,a=e.expectedLocation,s=void 0===a?0:a,u=e.distance,c=void 0===u?S.distance:u,h=e.ignoreLocation,f=void 0===h?S.ignoreLocation:h,l=r/t.length;if(f)return l;var d=Math.abs(s-o);return c?l+d/c:d?1:l}var T=32;function G(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,o=void 0===i?S.location:i,a=r.distance,s=void 0===a?S.distance:a,u=r.threshold,c=void 0===u?S.threshold:u,h=r.findAllMatches,f=void 0===h?S.findAllMatches:h,l=r.minMatchCharLength,d=void 0===l?S.minMatchCharLength:l,p=r.includeMatches,y=void 0===p?S.includeMatches:p,g=r.ignoreLocation,v=void 0===g?S.ignoreLocation:g;if(e.length>T)throw new Error("Pattern length exceeds max of ".concat(T,"."));for(var m,_=e.length,b=t.length,w=Math.max(0,Math.min(o,b)),x=c,k=w,M=d>1||y,E=M?Array(b):[];(m=t.indexOf(e,k))>-1;){var A=C(e,{currentLocation:m,expectedLocation:w,distance:s,ignoreLocation:v});if(x=Math.min(A,x),k=m+_,M)for(var L=0;L<_;)E[m+L]=1,L+=1}k=-1;for(var N=[],$=1,G=_+b,U=1<<_-1,D=0;D<_;D+=1){for(var O=0,z=G;O<z;)C(e,{errors:D,currentLocation:w+z,expectedLocation:w,distance:s,ignoreLocation:v})<=x?O=z:G=z,z=Math.floor((G-O)/2+O);G=z;var j=Math.max(1,w-z+1),P=f?b:Math.min(w+z,b)+_,I=Array(P+2);I[P+1]=(1<<D)-1;for(var R=P;R>=j;R-=1){var F=R-1,q=n[t.charAt(F)];if(M&&(E[F]=+!!q),I[R]=(I[R+1]<<1|1)&q,D&&(I[R]|=(N[R+1]|N[R])<<1|1|N[R+1]),I[R]&U&&($=C(e,{errors:D,currentLocation:F,expectedLocation:w,distance:s,ignoreLocation:v}))<=x){if(x=$,(k=F)<=w)break;j=Math.max(1,2*w-k)}}if(C(e,{errors:D+1,currentLocation:w,expectedLocation:w,distance:s,ignoreLocation:v})>x)break;N=I}var Y={isMatch:k>=0,score:Math.max(.001,$)};if(M){var B=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S.minMatchCharLength,n=[],r=-1,i=-1,o=0,a=t.length;o<a;o+=1){var s=t[o];s&&-1===r?r=o:s||-1===r||((i=o-1)-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}(E,d);B.length?y&&(Y.indices=B):Y.isMatch=!1}return Y}function U(t){for(var e={},n=0,r=t.length;n<r;n+=1){var i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}var D=function(){function t(e){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.location,a=void 0===o?S.location:o,s=i.threshold,u=void 0===s?S.threshold:s,c=i.distance,h=void 0===c?S.distance:c,f=i.includeMatches,l=void 0===f?S.includeMatches:f,d=i.findAllMatches,p=void 0===d?S.findAllMatches:d,y=i.minMatchCharLength,g=void 0===y?S.minMatchCharLength:y,v=i.isCaseSensitive,m=void 0===v?S.isCaseSensitive:v,_=i.ignoreLocation,b=void 0===_?S.ignoreLocation:_;if(r(this,t),this.options={location:a,threshold:u,distance:h,includeMatches:l,findAllMatches:p,minMatchCharLength:g,isCaseSensitive:m,ignoreLocation:b},this.pattern=m?e:e.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(t,e){n.chunks.push({pattern:t,alphabet:U(t),startIndex:e})},x=this.pattern.length;if(x>T){for(var k=0,M=x%T,E=x-M;k<E;)w(this.pattern.substr(k,T),k),k+=T;if(M){var A=x-T;w(this.pattern.substr(A),A)}}else w(this.pattern,0)}}return o(t,[{key:"searchIn",value:function(t){var e=this.options,n=e.isCaseSensitive,r=e.includeMatches;if(n||(t=t.toLowerCase()),this.pattern===t){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,t.length-1]]),i}var o=this.options,a=o.location,u=o.distance,c=o.threshold,h=o.findAllMatches,f=o.minMatchCharLength,l=o.ignoreLocation,d=[],p=0,y=!1;this.chunks.forEach((function(e){var n=e.pattern,i=e.alphabet,o=e.startIndex,g=G(t,n,i,{location:a+o,distance:u,threshold:c,findAllMatches:h,minMatchCharLength:f,includeMatches:r,ignoreLocation:l}),v=g.isMatch,m=g.score,_=g.indices;v&&(y=!0),p+=m,v&&_&&(d=[].concat(s(d),s(_)))}));var g={isMatch:y,score:y?p/this.chunks.length:1};return y&&r&&(g.indices=d),g}}]),t}(),O=[];function z(t,e){for(var n=0,r=O.length;n<r;n+=1){var i=O[n];if(i.condition(t,e))return new i(t,e)}return new D(t,e)}var j="$and",P="$or",I="$path",R="$val",F=function(t){return!(!t[j]&&!t[P])},q=function(t){return a({},j,Object.keys(t).map((function(e){return a({},e,t[e])})))};function Y(t,e){var n=t.matches;e.matches=[],g(n)&&n.forEach((function(t){if(g(t.indices)&&t.indices.length){var n={indices:t.indices,value:t.value};t.key&&(n.key=t.key.src),t.idx>-1&&(n.refIndex=t.idx),e.matches.push(n)}}))}function B(t,e){e.score=t.score}var W=function(){function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(r(this,t),this.options=e(e({},S),i),this.options.useExtendedSearch)throw new Error("Extended search is not available");this._keyStore=new x(this.options.keys),this.setCollection(n,o)}return o(t,[{key:"setCollection",value:function(t,e){if(this._docs=t,e&&!(e instanceof N))throw new Error("Incorrect 'index' type");this._myIndex=e||$(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(t){g(t)&&(this._docs.push(t),this._myIndex.add(t))}},{key:"remove",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},e=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];t(i,n)&&(this.removeAt(n),n-=1,r-=1,e.push(i))}return e}},{key:"removeAt",value:function(t){this._docs.splice(t,1),this._myIndex.removeAt(t)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===e?-1:e,r=this.options,i=r.includeMatches,o=r.includeScore,a=r.shouldSort,s=r.sortFn,u=r.ignoreFieldNorm,c=l(t)?l(this._docs[0])?this._searchStringList(t):this._searchObjectList(t):this._searchLogical(t);return function(t,e){var n=e.ignoreFieldNorm,r=void 0===n?S.ignoreFieldNorm:n;t.forEach((function(t){var e=1;t.matches.forEach((function(t){var n=t.key,i=t.norm,o=t.score,a=n?n.weight:null;e*=Math.pow(0===o&&a?Number.EPSILON:o,(a||1)*(r?1:i))})),t.score=e}))}(c,{ignoreFieldNorm:u}),a&&c.sort(s),d(n)&&n>-1&&(c=c.slice(0,n)),function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?S.includeMatches:r,o=n.includeScore,a=void 0===o?S.includeScore:o,s=[];return i&&s.push(Y),a&&s.push(B),t.map((function(t){var n=t.idx,r={item:e[n],refIndex:n};return s.length&&s.forEach((function(e){e(t,r)})),r}))}(c,this._docs,{includeMatches:i,includeScore:o})}},{key:"_searchStringList",value:function(t){var e=z(t,this.options),n=this._myIndex.records,r=[];return n.forEach((function(t){var n=t.v,i=t.i,o=t.n;if(g(n)){var a=e.searchIn(n),s=a.isMatch,u=a.score,c=a.indices;s&&r.push({item:n,idx:i,matches:[{score:u,value:n,norm:o,indices:c}]})}})),r}},{key:"_searchLogical",value:function(t){throw new Error("Logical search is not available")}},{key:"_searchObjectList",value:function(t){var e=this,n=z(t,this.options),r=this._myIndex,i=r.keys,o=r.records,a=[];return o.forEach((function(t){var r=t.$,o=t.i;if(g(r)){var u=[];i.forEach((function(t,i){u.push.apply(u,s(e._findMatches({key:t,value:r[i],searcher:n})))})),u.length&&a.push({idx:o,item:r,matches:u})}})),a}},{key:"_findMatches",value:function(t){var e=t.key,n=t.value,r=t.searcher;if(!g(n))return[];var i=[];if(c(n))n.forEach((function(t){var n=t.v,o=t.i,a=t.n;if(g(n)){var s=r.searchIn(n),u=s.isMatch,c=s.score,h=s.indices;u&&i.push({score:c,key:e,value:n,idx:o,norm:a,indices:h})}}));else{var o=n.v,a=n.n,s=r.searchIn(o),u=s.isMatch,h=s.score,f=s.indices;u&&i.push({score:h,key:e,value:o,norm:a,indices:f})}return i}}]),t}();return W.version="6.6.2",W.createIndex=$,W.parseIndex=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getFn,r=void 0===n?S.getFn:n,i=e.fieldNormWeight,o=void 0===i?S.fieldNormWeight:i,a=t.keys,s=t.records,u=new N({getFn:r,fieldNormWeight:o});return u.setKeys(a),u.setIndexRecords(s),u},W.config=S,W.parseQuery=function(t,e){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).auto,r=void 0===n||n;return F(t)||(t=q(t)),function t(n){var i=Object.keys(n),o=function(t){return!!t[I]}(n);if(!o&&i.length>1&&!F(n))return t(q(n));if(function(t){return!c(t)&&y(t)&&!F(t)}(n)){var a=o?n[I]:i[0],s=o?n[R]:n[a];if(!l(s))throw new Error(function(t){return"Invalid value for key ".concat(t)}(a));var u={keyId:E(a),pattern:s};return r&&(u.searcher=z(s,e)),u}var h={children:[],operator:i[0]};return i.forEach((function(e){var r=n[e];c(r)&&r.forEach((function(e){h.children.push(t(e))}))})),h}(t)},W}()},12:(t,e,n)=>{var r=n(453);function i(t){this.graph=t,this.queue=new r(Array,t.order),this.seen=new Set,this.size=0}i.prototype.hasAlreadySeenEverything=function(){return this.seen.size===this.graph.order},i.prototype.countUnseenNodes=function(){return this.graph.order-this.seen.size},i.prototype.forEachNodeYetUnseen=function(t){var e=this.seen,n=this.graph;n.someNode((function(r,i){return e.size===n.order||!e.has(r)&&!!t(r,i)}))},i.prototype.has=function(t){return this.seen.has(t)},i.prototype.push=function(t){var e=this.seen.size;return this.seen.add(t),e!==this.seen.size&&(this.queue.push(t),this.size++,!0)},i.prototype.pushWith=function(t,e){var n=this.seen.size;return this.seen.add(t),n!==this.seen.size&&(this.queue.push(e),this.size++,!0)},i.prototype.shift=function(){var t=this.queue.shift();return this.size=this.queue.size,t},t.exports=i},181:(t,e,n)=>{var r=n(186),i=n(12),o=n(480),a=o.TraversalRecord,s=o.capitalize;e.a=function(t,e,n,o){if(o=o||{},!r(t))throw new Error("graphology-traversal/bfs: expecting a graphology instance.");if("function"!=typeof n)throw new Error("graphology-traversal/bfs: given callback is not a function.");if(0!==t.order){var u,c=new i(t),h=t["forEach"+s(o.mode||"outbound")+"Neighbor"].bind(t);(null===e?c.forEachNodeYetUnseen.bind(c):function(n){n(e=""+e,t.getNodeAttributes(e))})((function(t,e){for(c.pushWith(t,new a(t,e,0));0!==c.size;)u=c.shift(),!0!==n(u.node,u.attributes,u.depth)&&h(u.node,f)}))}function f(t,e){c.pushWith(t,new a(t,e,u.depth+1))}}},480:(t,e)=>{e.TraversalRecord=function(t,e,n){this.node=t,this.attributes=e,this.depth=n},e.capitalize=function(t){return t[0].toUpperCase()+t.slice(1)}},186:t=>{t.exports=function(t){return null!==t&&"object"==typeof t&&"function"==typeof t.addUndirectedEdgeWithKey&&"function"==typeof t.dropNode&&"boolean"==typeof t.multi}},453:(t,e,n)=>{var r=n(650),i=n(993);function o(t,e){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if("number"!=typeof e||e<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=t,this.capacity=e,this.items=new t(this.capacity),this.clear()}o.prototype.clear=function(){this.start=0,this.size=0},o.prototype.push=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var e=(this.start+this.size)%this.capacity;return this.items[e]=t,++this.size},o.prototype.unshift=function(t){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var e=this.start-1;return 0===this.start&&(e=this.capacity-1),this.items[e]=t,this.start=e,++this.size},o.prototype.pop=function(){if(0===this.size)return;const t=(this.start+this.size-1)%this.capacity;return this.size--,this.items[t]},o.prototype.shift=function(){if(0!==this.size){var t=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[t]}},o.prototype.peekFirst=function(){if(0!==this.size)return this.items[this.start]},o.prototype.peekLast=function(){if(0!==this.size){var t=this.start+this.size-1;return t>this.capacity&&(t-=this.capacity),this.items[t]}},o.prototype.get=function(t){if(0!==this.size)return(t=this.start+t)>this.capacity&&(t-=this.capacity),this.items[t]},o.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var n=this.capacity,r=this.size,i=this.start,o=0;o<r;)t.call(e,this.items[i],o,this),o++,++i===n&&(i=0)},o.prototype.toArray=function(){var t=this.start+this.size;if(t<this.capacity)return this.items.slice(this.start,t);for(var e=new this.ArrayClass(this.size),n=this.capacity,r=this.size,i=this.start,o=0;o<r;)e[o]=this.items[i],o++,++i===n&&(i=0);return e},o.prototype.values=function(){var t=this.items,e=this.capacity,n=this.size,r=this.start,o=0;return new i((function(){if(o>=n)return{done:!0};var i=t[r];return r++,o++,r===e&&(r=0),{value:i,done:!1}}))},o.prototype.entries=function(){var t=this.items,e=this.capacity,n=this.size,r=this.start,o=0;return new i((function(){if(o>=n)return{done:!0};var i=t[r];return++r===e&&(r=0),{value:[o++,i],done:!1}}))},"undefined"!=typeof Symbol&&(o.prototype[Symbol.iterator]=o.prototype.values),o.prototype.inspect=function(){var t=this.toArray();return t.type=this.ArrayClass.name,t.capacity=this.capacity,Object.defineProperty(t,"constructor",{value:o,enumerable:!1}),t},"undefined"!=typeof Symbol&&(o.prototype[Symbol.for("nodejs.util.inspect.custom")]=o.prototype.inspect),o.from=function(t,e,n){if(arguments.length<3&&"number"!=typeof(n=r.guessLength(t)))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var i=new o(e,n);if(r.isArrayLike(t)){var a,s;for(a=0,s=t.length;a<s;a++)i.items[a]=t[a];return i.size=s,i}return r.forEach(t,(function(t){i.push(t)})),i},t.exports=o},650:(t,e,n)=>{var r=n(113),i=n(801);function o(t){return"number"==typeof t.length?t.length:"number"==typeof t.size?t.size:void 0}e.isArrayLike=function(t){return Array.isArray(t)||i.isTypedArray(t)},e.guessLength=o,e.toArray=function(t){var e=o(t),n="number"==typeof e?new Array(e):[],i=0;return r(t,(function(t){n[i++]=t})),n},e.toArrayWithIndices=function(t){var e=o(t),n="number"==typeof e?i.getPointerArray(e):Array,a="number"==typeof e?new Array(e):[],s="number"==typeof e?new n(e):[],u=0;return r(t,(function(t){a[u]=t,s[u]=u++})),[a,s]}},801:(t,e)=>{var n=Math.pow(2,8)-1,r=Math.pow(2,16)-1,i=Math.pow(2,32)-1,o=Math.pow(2,7)-1,a=Math.pow(2,15)-1,s=Math.pow(2,31)-1;e.getPointerArray=function(t){var e=t-1;if(e<=n)return Uint8Array;if(e<=r)return Uint16Array;if(e<=i)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")},e.getSignedPointerArray=function(t){var e=t-1;return e<=o?Int8Array:e<=a?Int16Array:e<=s?Int32Array:Float64Array},e.getNumberType=function(t){return t===(0|t)?-1===Math.sign(t)?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var u={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};e.getMinimalRepresentation=function(t,n){var r,i,o,a,s,c=null,h=0;for(a=0,s=t.length;a<s;a++)o=n?n(t[a]):t[a],i=e.getNumberType(o),(r=u[i.name])>h&&(h=r,c=i);return c},e.isTypedArray=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(t)},e.concat=function(){var t,e,n,r=0;for(t=0,n=arguments.length;t<n;t++)r+=arguments[t].length;var i=new arguments[0].constructor(r);for(t=0,e=0;t<n;t++)i.set(arguments[t],e),e+=arguments[t].length;return i},e.indices=function(t){for(var n=new(e.getPointerArray(t))(t),r=0;r<t;r++)n[r]=r;return n}},11:(t,e,n)=>{var r=n(993),i=n(346);t.exports=function(){var t=arguments,e=null,n=-1;return new r((function(){for(var r=null;;){if(null===e){if(++n>=t.length)return{done:!0};e=i(t[n])}if(!0!==(r=e.next()).done)break;e=null}return r}))}},113:(t,e,n)=>{var r=n(844),i=r.ARRAY_BUFFER_SUPPORT,o=r.SYMBOL_SUPPORT;t.exports=function(t,e){var n,r,a,s,u;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if("function"!=typeof e)throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||i&&ArrayBuffer.isView(t)||"string"==typeof t||"[object Arguments]"===t.toString())for(a=0,s=t.length;a<s;a++)e(t[a],a);else if("function"!=typeof t.forEach)if(o&&Symbol.iterator in t&&"function"!=typeof t.next&&(t=t[Symbol.iterator]()),"function"!=typeof t.next)for(r in t)t.hasOwnProperty(r)&&e(t[r],r);else for(n=t,a=0;!0!==(u=n.next()).done;)e(u.value,a),a++;else t.forEach(e)}},346:(t,e,n)=>{var r=n(993),i=n(844),o=i.ARRAY_BUFFER_SUPPORT,a=i.SYMBOL_SUPPORT;t.exports=function(t){var e=function(t){return"string"==typeof t||Array.isArray(t)||o&&ArrayBuffer.isView(t)?r.fromSequence(t):"object"!=typeof t||null===t?null:a&&"function"==typeof t[Symbol.iterator]?t[Symbol.iterator]():"function"==typeof t.next?t:null}(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e}},993:t=>{function e(t){if("function"!=typeof t)throw new Error("obliterator/iterator: expecting a function!");this.next=t}"undefined"!=typeof Symbol&&(e.prototype[Symbol.iterator]=function(){return this}),e.of=function(){var t=arguments,n=t.length,r=0;return new e((function(){return r>=n?{done:!0}:{done:!1,value:t[r++]}}))},e.empty=function(){return new e((function(){return{done:!0}}))},e.fromSequence=function(t){var n=0,r=t.length;return new e((function(){return n>=r?{done:!0}:{done:!1,value:t[n++]}}))},e.is=function(t){return t instanceof e||"object"==typeof t&&null!==t&&"function"==typeof t.next},t.exports=e},844:(t,e)=>{e.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,e.SYMBOL_SUPPORT="undefined"!=typeof Symbol},641:(t,e,n)=>{var r=n(346);t.exports=function(t,e){for(var n,i=arguments.length>1?e:1/0,o=i!==1/0?new Array(i):[],a=0,s=r(t);;){if(a===i)return o;if((n=s.next()).done)return a!==e&&(o.length=a),o;o[a++]=n.value}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function r(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function i(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}var a,s,u=r((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}));function c(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}i(u,"highlightedNodes",[]),i(u,"focusMode",!1),i(u,"position",{x:0,y:0,zoom:1}),window.addEventListener("DOMContentLoaded",(function(){document.getElementById("view-save").addEventListener("click",(function(){var t=new URL(window.location),e=Array.from(document.querySelectorAll("#types-form input:checked")).map((function(t){return t.name})),n=Array.from(document.querySelectorAll("#tags-form input:checked")).map((function(t){return t.name})),r=document.getElementById("focus-input").value;e.length>0&&t.searchParams.set("filters",e.join("-")),n.length>0&&t.searchParams.set("tags",n.join("-")),document.querySelector("#focus-check:checked")&&t.searchParams.set("focus",r),window.location.replace(t)}))})),1===(a=c).length&&(s=a,a=function(t,e){return c(s(t),e)});var h=Array.prototype;function f(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function l(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}h.slice,h.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),Array.prototype.slice;var d={value:function(){}};function p(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new y(r)}function y(t){this._=t}function g(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function v(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=d,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}y.prototype=p.prototype={constructor:y,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=v(i[n],t.name,e);else if(null==e)for(n in i)i[n]=v(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=g(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new y(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const m=p;var _="http://www.w3.org/1999/xhtml";const b={svg:"http://www.w3.org/2000/svg",xhtml:_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function w(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),b.hasOwnProperty(e)?{space:b[e],local:t}:t}function x(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===_&&e.documentElement.namespaceURI===_?e.createElement(t):e.createElementNS(n,t)}}function k(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function M(t){var e=w(t);return(e.local?k:x)(e)}function E(){}function A(t){return null==t?E:function(){return this.querySelector(t)}}function S(){return[]}function L(t){return null==t?S:function(){return this.querySelectorAll(t)}}var N=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var $=document.documentElement;if(!$.matches){var C=$.webkitMatchesSelector||$.msMatchesSelector||$.mozMatchesSelector||$.oMatchesSelector;N=function(t){return function(){return C.call(this,t)}}}}const T=N;function G(t){return new Array(t.length)}function U(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}U.prototype={constructor:U,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function D(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new U(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function O(t,e,n,r,i,o,a){var s,u,c,h={},f=e.length,l=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=c="$"+a.call(u,u.__data__,s,e),c in h?i[s]=u:h[c]=u);for(s=0;s<l;++s)(u=h[c="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],h[c]=null):n[s]=new U(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&h[d[s]]===u&&(i[s]=u)}function z(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j(t){return function(){this.removeAttribute(t)}}function P(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I(t,e){return function(){this.setAttribute(t,e)}}function R(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function F(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Y(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function B(t){return function(){this.style.removeProperty(t)}}function W(t,e,n){return function(){this.style.setProperty(t,e,n)}}function K(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||Y(t).getComputedStyle(t,null).getPropertyValue(e)}function X(t){return function(){delete this[t]}}function V(t,e){return function(){this[t]=e}}function Z(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function J(t){return t.trim().split(/^|\s+/)}function Q(t){return t.classList||new tt(t)}function tt(t){this._node=t,this._names=J(t.getAttribute("class")||"")}function et(t,e){for(var n=Q(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function nt(t,e){for(var n=Q(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function rt(t){return function(){et(this,t)}}function it(t){return function(){nt(this,t)}}function ot(t,e){return function(){(e.apply(this,arguments)?et:nt)(this,t)}}function at(){this.textContent=""}function st(t){return function(){this.textContent=t}}function ut(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ct(){this.innerHTML=""}function ht(t){return function(){this.innerHTML=t}}function ft(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function lt(){this.nextSibling&&this.parentNode.appendChild(this)}function dt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pt(){return null}function yt(){var t=this.parentNode;t&&t.removeChild(this)}function gt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function vt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}tt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var mt={},_t=null;function bt(t,e,n){return t=wt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function wt(t,e,n){return function(r){var i=_t;_t=r;try{t.call(this,this.__data__,e,n)}finally{_t=i}}}function xt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function kt(t,e,n){var r=mt.hasOwnProperty(t.type)?bt:wt;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var h=0,f=u.length;h<f;++h)if((s=u[h]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function Mt(t,e,n,r){var i=_t;t.sourceEvent=_t,_t=t;try{return e.apply(n,r)}finally{_t=i}}function Et(t,e,n){var r=Y(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function At(t,e){return function(){return Et(this,t,e)}}function St(t,e){return function(){return Et(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(mt={mouseenter:"mouseover",mouseleave:"mouseout"}));var Lt=[null];function Nt(t,e){this._groups=t,this._parents=e}function $t(){return new Nt([[document.documentElement]],Lt)}Nt.prototype=$t.prototype={constructor:Nt,select:function(t){"function"!=typeof t&&(t=A(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),h=0;h<u;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),c[h]=a);return new Nt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=L(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Nt(r,i)},filter:function(t){"function"!=typeof t&&(t=T(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Nt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),h=-1,this.each((function(t){p[++h]=t})),p;var n,r=e?O:D,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),h=0;h<a;++h){var f=i[h],l=o[h],d=l.length,p=t.call(f,f&&f.__data__,h,i),y=p.length,g=u[h]=new Array(y),v=s[h]=new Array(y);r(f,l,g,v,c[h]=new Array(d),p,e);for(var m,_,b=0,w=0;b<y;++b)if(m=g[b]){for(b>=w&&(w=b+1);!(_=v[w])&&++w<y;);m._next=_||null}}return(s=new Nt(s,i))._enter=u,s._exit=c,s},enter:function(){return new Nt(this._enter||this._groups.map(G),this._parents)},exit:function(){return new Nt(this._exit||this._groups.map(G),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],h=n[s],f=c.length,l=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(l[d]=u);for(;s<r;++s)a[s]=e[s];return new Nt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=z);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),h=0;h<u;++h)(a=s[h])&&(c[h]=a);c.sort(e)}return new Nt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=w(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?P:j:"function"==typeof e?n.local?q:F:n.local?R:I)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?B:"function"==typeof e?K:W)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?X:"function"==typeof e?Z:V)(t,e)):this.node()[t]},classed:function(t,e){var n=J(t+"");if(arguments.length<2){for(var r=Q(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ot:e?rt:it)(n,e))},text:function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?ut:st)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ct:("function"==typeof t?ft:ht)(t)):this.node().innerHTML},raise:function(){return this.each(lt)},lower:function(){return this.each(dt)},append:function(t){var e="function"==typeof t?t:M(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:M(t),r=null==e?pt:"function"==typeof e?e:A(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(yt)},clone:function(t){return this.select(t?vt:gt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?kt:xt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,h=s.length;c<h;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?St:At)(t,e))}};const Ct=$t;function Tt(t){return"string"==typeof t?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],Lt)}var Gt=0;function Ut(){this._="@"+(++Gt).toString(36)}function Dt(){for(var t,e=_t;t=e.sourceEvent;)e=t;return e}function Ot(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function zt(t){var e=Dt();return e.changedTouches&&(e=e.changedTouches[0]),Ot(t,e)}function jt(t,e,n){arguments.length<3&&(n=e,e=Dt().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Ot(t,r);return null}function Pt(){_t.stopImmediatePropagation()}function It(){_t.preventDefault(),_t.stopImmediatePropagation()}function Rt(t){var e=t.document.documentElement,n=Tt(t).on("dragstart.drag",It,!0);"onselectstart"in e?n.on("selectstart.drag",It,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ft(t,e){var n=t.document.documentElement,r=Tt(t).on("dragstart.drag",null);e&&(r.on("click.drag",It,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function qt(t){return function(){return t}}function Yt(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function Bt(){return!_t.button}function Wt(){return this.parentNode}function Kt(t){return null==t?{x:_t.x,y:_t.y}:t}function Ht(){return"ontouchstart"in this}function Xt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Zt(){}Ut.prototype=function(){return new Ut}.prototype={constructor:Ut,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Yt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Jt=.7,Qt=1/Jt,te="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",re=/^#([0-9a-f]{3})$/,ie=/^#([0-9a-f]{6})$/,oe=new RegExp("^rgb\\("+[te,te,te]+"\\)$"),ae=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),se=new RegExp("^rgba\\("+[te,te,te,ee]+"\\)$"),ue=new RegExp("^rgba\\("+[ne,ne,ne,ee]+"\\)$"),ce=new RegExp("^hsl\\("+[ee,ne,ne]+"\\)$"),he=new RegExp("^hsla\\("+[ee,ne,ne,ee]+"\\)$"),fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function le(t){var e;return t=(t+"").trim().toLowerCase(),(e=re.exec(t))?new ve((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ie.exec(t))?de(parseInt(e[1],16)):(e=oe.exec(t))?new ve(e[1],e[2],e[3],1):(e=ae.exec(t))?new ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=se.exec(t))?pe(e[1],e[2],e[3],e[4]):(e=ue.exec(t))?pe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ce.exec(t))?me(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?me(e[1],e[2]/100,e[3]/100,e[4]):fe.hasOwnProperty(t)?de(fe[t]):"transparent"===t?new ve(NaN,NaN,NaN,0):null}function de(t){return new ve(t>>16&255,t>>8&255,255&t,1)}function pe(t,e,n,r){return r<=0&&(t=e=n=NaN),new ve(t,e,n,r)}function ye(t){return t instanceof Zt||(t=le(t)),t?new ve((t=t.rgb()).r,t.g,t.b,t.opacity):new ve}function ge(t,e,n,r){return 1===arguments.length?ye(t):new ve(t,e,n,null==r?1:r)}function ve(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function me(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new be(t,e,n,r)}function _e(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof be)return new be(t.h,t.s,t.l,t.opacity);if(t instanceof Zt||(t=le(t)),!t)return new be;if(t instanceof be)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new be(a,s,u,t.opacity)}(t):new be(t,e,n,null==r?1:r)}function be(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function we(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Xt(Zt,le,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Xt(ve,ge,Vt(Zt,{brighter:function(t){return t=null==t?Qt:Math.pow(Qt,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Jt:Math.pow(Jt,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Xt(be,_e,Vt(Zt,{brighter:function(t){return t=null==t?Qt:Math.pow(Qt,t),new be(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jt:Math.pow(Jt,t),new be(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ve(we(t>=240?t-240:t+120,i,r),we(t,i,r),we(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var xe=Math.PI/180,ke=180/Math.PI,Me=.95047,Ee=1,Ae=1.08883,Se=4/29,Le=6/29,Ne=3*Le*Le,$e=Le*Le*Le;function Ce(t){if(t instanceof Te)return new Te(t.l,t.a,t.b,t.opacity);if(t instanceof je){var e=t.h*xe;return new Te(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof ve||(t=ye(t));var n=Oe(t.r),r=Oe(t.g),i=Oe(t.b),o=Ge((.4124564*n+.3575761*r+.1804375*i)/Me),a=Ge((.2126729*n+.7151522*r+.072175*i)/Ee);return new Te(116*a-16,500*(o-a),200*(a-Ge((.0193339*n+.119192*r+.9503041*i)/Ae)),t.opacity)}function Te(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Ge(t){return t>$e?Math.pow(t,1/3):t/Ne+Se}function Ue(t){return t>Le?t*t*t:Ne*(t-Se)}function De(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Oe(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function ze(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof je)return new je(t.h,t.c,t.l,t.opacity);t instanceof Te||(t=Ce(t));var e=Math.atan2(t.b,t.a)*ke;return new je(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new je(t,e,n,null==r?1:r)}function je(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Xt(Te,(function(t,e,n,r){return 1===arguments.length?Ce(t):new Te(t,e,n,null==r?1:r)}),Vt(Zt,{brighter:function(t){return new Te(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Te(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Ee*Ue(t),new ve(De(3.2404542*(e=Me*Ue(e))-1.5371385*t-.4985314*(n=Ae*Ue(n))),De(-.969266*e+1.8760108*t+.041556*n),De(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Xt(je,ze,Vt(Zt,{brighter:function(t){return new je(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new je(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ce(this).rgb()}}));var Pe=-.14861,Ie=1.78277,Re=-.29227,Fe=-.90649,qe=1.97294,Ye=qe*Fe,Be=qe*Ie,We=Ie*Re-Fe*Pe;function Ke(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);t instanceof ve||(t=ye(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(We*r+Ye*e-Be*n)/(We+Ye-Be),o=r-i,a=(qe*(n-i)-Re*o)/Fe,s=Math.sqrt(a*a+o*o)/(qe*i*(1-i)),u=s?Math.atan2(a,o)*ke-120:NaN;return new He(u<0?u+360:u,s,i,t.opacity)}(t):new He(t,e,n,null==r?1:r)}function He(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xe(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Ve(t){return function(){return t}}function Ze(t,e){return function(n){return t+n*e}}function Je(t,e){var n=e-t;return n?Ze(t,n>180||n<-180?n-360*Math.round(n/360):n):Ve(isNaN(t)?e:t)}function Qe(t,e){var n=e-t;return n?Ze(t,n):Ve(isNaN(t)?e:t)}Xt(He,Ke,Vt(Zt,{brighter:function(t){return t=null==t?Qt:Math.pow(Qt,t),new He(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Jt:Math.pow(Jt,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*xe,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ve(255*(e+n*(Pe*r+Ie*i)),255*(e+n*(Re*r+Fe*i)),255*(e+n*(qe*r)),this.opacity)}}));const tn=function t(e){var n=function(t){return 1==(t=+t)?Qe:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ve(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ge(t)).r,(e=ge(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Qe(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function en(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=ge(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function nn(t,e){return e-=t=+t,function(n){return t+e*n}}en((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Xe((n-r/e)*e,a,i,o,s)}})),en((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Xe((n-r/e)*e,i,o,a,s)}}));var rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,on=new RegExp(rn.source,"g");function an(t,e){var n,r,i,o=rn.lastIndex=on.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=rn.exec(t))&&(r=on.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:nn(n,r)})),o=on.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}var sn,un,cn,hn,fn=180/Math.PI,ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dn(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*fn,skewX:Math.atan(u)*fn,scaleX:a,scaleY:s}}function pn(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:nn(t,i)},{i:u-2,x:nn(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:nn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:nn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:nn(t,n)},{i:s-2,x:nn(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var yn=pn((function(t){return"none"===t?ln:(sn||(sn=document.createElement("DIV"),un=document.documentElement,cn=document.defaultView),sn.style.transform=t,t=cn.getComputedStyle(un.appendChild(sn),null).getPropertyValue("transform"),un.removeChild(sn),dn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),gn=pn((function(t){return null==t?ln:(hn||(hn=document.createElementNS("http://www.w3.org/2000/svg","g")),hn.setAttribute("transform",t),(t=hn.transform.baseVal.consolidate())?dn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ln)}),", ",")",")"),vn=Math.SQRT2;function mn(t){return((t=Math.exp(t))+1/t)/2}function _n(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],h=s-i,f=u-o,l=h*h+f*f;if(l<1e-12)r=Math.log(c/a)/vn,n=function(t){return[i+t*h,o+t*f,a*Math.exp(vn*t*r)]};else{var d=Math.sqrt(l),p=(c*c-a*a+4*l)/(2*a*2*d),y=(c*c-a*a-4*l)/(2*c*2*d),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(y*y+1)-y);r=(v-g)/vn,n=function(t){var e,n=t*r,s=mn(g),u=a/(2*d)*(s*(e=vn*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*h,o+u*f,a*s/mn(vn*n+g)]}}return n.duration=1e3*r,n}function bn(t){return function(e,n){var r=t((e=_e(e)).h,(n=_e(n)).h),i=Qe(e.s,n.s),o=Qe(e.l,n.l),a=Qe(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function wn(t){return function(e,n){var r=t((e=ze(e)).h,(n=ze(n)).h),i=Qe(e.c,n.c),o=Qe(e.l,n.l),a=Qe(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function xn(t){return function e(n){function r(e,r){var i=t((e=Ke(e)).h,(r=Ke(r)).h),o=Qe(e.s,r.s),a=Qe(e.l,r.l),s=Qe(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}bn(Je),bn(Qe),wn(Je),wn(Qe),xn(Je);var kn,Mn,En=xn(Qe),An=0,Sn=0,Ln=0,Nn=1e3,$n=0,Cn=0,Tn=0,Gn="object"==typeof performance&&performance.now?performance:Date,Un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Dn(){return Cn||(Un(On),Cn=Gn.now()+Tn)}function On(){Cn=0}function zn(){this._call=this._time=this._next=null}function jn(t,e,n){var r=new zn;return r.restart(t,e,n),r}function Pn(){Cn=($n=Gn.now())+Tn,An=Sn=0;try{!function(){Dn(),++An;for(var t,e=kn;e;)(t=Cn-e._time)>=0&&e._call.call(null,t),e=e._next;--An}()}finally{An=0,function(){for(var t,e,n=kn,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:kn=e);Mn=t,Rn(r)}(),Cn=0}}function In(){var t=Gn.now(),e=t-$n;e>Nn&&(Tn-=e,$n=t)}function Rn(t){An||(Sn&&(Sn=clearTimeout(Sn)),t-Cn>24?(t<1/0&&(Sn=setTimeout(Pn,t-Gn.now()-Tn)),Ln&&(Ln=clearInterval(Ln))):(Ln||($n=Gn.now(),Ln=setInterval(In,Nn)),An=1,Un(Pn)))}function Fn(t,e,n){var r=new zn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}zn.prototype=jn.prototype={constructor:zn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Dn():+n)+(null==e?0:+e),this._next||Mn===this||(Mn?Mn._next=this:kn=this,Mn=this),this._call=t,this._time=n,Rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rn())}};var qn=m("start","end","interrupt"),Yn=[],Bn=0,Wn=2;function Kn(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,h,f,l;if(1!==n.state)return s();for(c in i)if((l=i[c]).name===n.name){if(3===l.state)return Fn(o);4===l.state?(l.state=6,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete i[c]):+c<e&&(l.state=6,l.timer.stop(),delete i[c])}if(Fn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(u))})),n.state=Wn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wn){for(n.state=3,r=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(l=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=l);r.length=h+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=jn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:qn,tween:Yn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Bn})}function Hn(t,e){var n=Vn(t,e);if(n.state>Bn)throw new Error("too late; already scheduled");return n}function Xn(t,e){var n=Vn(t,e);if(n.state>Wn)throw new Error("too late; already started");return n}function Vn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zn(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Wn&&n.state<5,n.state=6,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Jn(t,e){var n,r;return function(){var i=Xn(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Qn(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Xn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function tr(t,e,n){var r=t._id;return t.each((function(){var t=Xn(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Vn(t,r).value[e]}}function er(t,e){var n;return("number"==typeof e?nn:e instanceof le?tn:(n=le(e))?(e=n,tn):an)(t,e)}function nr(t){return function(){this.removeAttribute(t)}}function rr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ir(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}}function or(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}function ar(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}}function sr(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}function ur(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}function cr(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n}function hr(t,e){return function(){Hn(this,t).delay=+e.apply(this,arguments)}}function fr(t,e){return e=+e,function(){Hn(this,t).delay=e}}function lr(t,e){return function(){Xn(this,t).duration=+e.apply(this,arguments)}}function dr(t,e){return e=+e,function(){Xn(this,t).duration=e}}var pr=Ct.prototype.constructor,yr=0;function gr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function vr(){return++yr}var mr=Ct.prototype;gr.prototype=function(t){return Ct().transition(t)}.prototype={constructor:gr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=A(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],h=c.length,f=o[a]=new Array(h),l=0;l<h;++l)(s=c[l])&&(u=t.call(s,s.__data__,l,c))&&("__data__"in s&&(u.__data__=s.__data__),f[l]=u,Kn(f[l],e,n,l,f,Vn(s,n)));return new gr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=L(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],h=c.length,f=0;f<h;++f)if(u=c[f]){for(var l,d=t.call(u,u.__data__,f,c),p=Vn(u,n),y=0,g=d.length;y<g;++y)(l=d[y])&&Kn(l,e,n,y,d,p);o.push(d),a.push(u)}return new gr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=T(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new gr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],h=n[s],f=c.length,l=a[s]=new Array(f),d=0;d<f;++d)(u=c[d]||h[d])&&(l[d]=u);for(;s<r;++s)a[s]=e[s];return new gr(a,this._parents,this._name,this._id)},selection:function(){return new pr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=vr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var h=Vn(a,e);Kn(a,t,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new gr(r,this._parents,t,n)},call:mr.call,nodes:mr.nodes,node:mr.node,size:mr.size,empty:mr.empty,each:mr.each,on:function(t,e){var n=this._id;return arguments.length<2?Vn(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Hn:Xn;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=w(t),r="transform"===n?gn:er;return this.attrTween(t,"function"==typeof e?(n.local?sr:ar)(n,r,tr(this,"attr."+t,e)):null==e?(n.local?rr:nr)(n):(n.local?or:ir)(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=w(t);return this.tween(n,(r.local?ur:cr)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?yn:er;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=H(this,t),a=(this.style.removeProperty(t),H(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,o;return function(){var a=H(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=H(this,t)),a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}(t,r,tr(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var o=H(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Vn(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Jn:Qn)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hr:fr)(e,t)):Vn(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?lr:dr)(e,t)):Vn(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Xn(this,t).ease=e}}(e,t)):Vn(this.node(),e).ease}},function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;var _r=1.70158,br=(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(_r),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(_r),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(_r),2*Math.PI),wr=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*br)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*br)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=br);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*br)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function xr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return wr.time=Dn(),wr;return n}function kr(t){return{type:t}}function Mr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Ct.prototype.interrupt=function(t){return this.each((function(){Zn(this,t)}))},Ct.prototype.transition=function(t){var e,n;t instanceof gr?(e=t._id,t=t._name):(e=vr(),(n=wr).time=Dn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&Kn(a,t,e,c,s,n||xr(a,e));return new gr(r,this._parents,t,e)},["e","w"].map(kr),["n","s"].map(kr),["n","e","s","w","nw","ne","se","sw"].map(kr);var Er=function(t){return 1===t.length&&(t=function(t){return function(e,n){return Mr(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(Mr);Er.right,Er.left;var Ar=Array.prototype;Ar.slice,Ar.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),Math.cos,Math.sin,Math.PI,Math.max,Array.prototype.slice;var Sr=Math.PI,Lr=2*Sr,Nr=1e-6,$r=Lr-Nr;function Cr(){this._x0=this._y0=this._x1=this._y1=null,this._=""}Cr.prototype=function(){return new Cr}.prototype={constructor:Cr,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,h=a-e,f=c*c+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>Nr)if(Math.abs(h*s-u*c)>Nr&&i){var l=n-o,d=r-a,p=s*s+u*u,y=l*l+d*d,g=Math.sqrt(p),v=Math.sqrt(f),m=i*Math.tan((Sr-Math.acos((p+f-y)/(2*g*v)))/2),_=m/v,b=m/g;Math.abs(_-1)>Nr&&(this._+="L"+(t+_*c)+","+(e+_*h)),this._+="A"+i+","+i+",0,0,"+ +(h*l>c*d)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,h=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>Nr||Math.abs(this._y1-c)>Nr)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%Lr+Lr),f>$r?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=u)+","+(this._y1=c):f>Nr&&(this._+="A"+n+","+n+",0,"+ +(f>=Sr)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Tr="$";function Gr(){}function Ur(t,e){var n=new Gr;if(t instanceof Gr)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Gr.prototype=Ur.prototype={constructor:Gr,has:function(t){return Tr+t in this},get:function(t){return this[Tr+t]},set:function(t,e){return this[Tr+t]=e,this},remove:function(t){var e=Tr+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Tr&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Tr&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Tr&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Tr&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Tr&&++t;return t},empty:function(){for(var t in this)if(t[0]===Tr)return!1;return!0},each:function(t){for(var e in this)e[0]===Tr&&t(this[e],e.slice(1),this)}};const Dr=Ur;function Or(){}var zr=Dr.prototype;Or.prototype=function(t,e){var n=new Or;if(t instanceof Or)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Or,has:zr.has,add:function(t){return this[Tr+(t+="")]=t,this},remove:zr.remove,clear:zr.clear,values:zr.keys,size:zr.size,empty:zr.empty,each:zr.each};var jr={},Pr={};function Ir(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function Rr(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function h(){if(u)return Pr;if(c)return c=!1,jr;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?u=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=h())!==Pr;){for(var f=[];r!==jr&&r!==Pr;)f.push(r),r=h();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=Ir(t);return function(r,i){return e(n(r),i,t)}}(t,e):Ir(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}(e)),[n.map(o).join(t)].concat(e.map((function(e){return n.map((function(t){return o(e[t])})).join(t)}))).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}}var Fr=Rr(","),qr=Fr.parse,Yr=(Fr.parseRows,Fr.format,Fr.formatRows,Rr("\t")),Br=Yr.parse;function Wr(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,h,f,l,d=t._root,p={data:r},y=t._x0,g=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(y+v)/2))?y=o:v=o,(h=n>=(a=(g+m)/2))?g=a:m=a,i=d,!(d=d[f=h<<1|c]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(y+v)/2))?y=o:v=o,(h=n>=(a=(g+m)/2))?g=a:m=a}while((f=h<<1|c)==(l=(u>=a)<<1|s>=o));return i[l]=d,i[f]=p,t}function Kr(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Hr(t){return t[0]}function Xr(t){return t[1]}function Vr(t,e,n){var r=new Zr(null==e?Hr:e,null==n?Xr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Zr(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Jr(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Yr.parseRows,Yr.format,Yr.formatRows;var Qr=Vr.prototype=Zr.prototype;function ti(t){return function(){return t}}function ei(){return 1e-6*(Math.random()-.5)}function ni(t){return t.index}function ri(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function ii(t){return t.x}function oi(t){return t.y}Qr.copy=function(){var t,e,n=new Zr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Jr(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Jr(e));return n},Qr.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Wr(this.cover(e,n),e,n,t)},Qr.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,h=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>h&&(h=r),i<c&&(c=i),i>f&&(f=i));for(h<u&&(u=this._x0,h=this._x1),f<c&&(c=this._y0,f=this._y1),this.cover(u,c).cover(h,f),n=0;n<o;++n)Wr(this,a[n],s[n],t[n]);return this},Qr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Qr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Qr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Qr.find=function(t,e,n){var r,i,o,a,s,u,c,h=this._x0,f=this._y0,l=this._x1,d=this._y1,p=[],y=this._root;for(y&&p.push(new Kr(y,h,f,l,d)),null==n?n=1/0:(h=t-n,f=e-n,l=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(y=u.node)||(i=u.x0)>l||(o=u.y0)>d||(a=u.x1)<h||(s=u.y1)<f))if(y.length){var g=(i+a)/2,v=(o+s)/2;p.push(new Kr(y[3],g,v,a,s),new Kr(y[2],i,v,g,s),new Kr(y[1],g,o,a,v),new Kr(y[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=u)}else{var m=t-+this._x.call(null,y.data),_=e-+this._y.call(null,y.data),b=m*m+_*_;if(b<n){var w=Math.sqrt(n=b);h=t-w,f=e-w,l=t+w,d=e+w,r=y.data}}return r},Qr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,h,f,l,d=this._root,p=this._x0,y=this._y0,g=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(s=(p+g)/2))?p=s:g=s,(h=a>=(u=(y+v)/2))?y=u:v=u,e=d,!(d=d[f=h<<1|c]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,l=f)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[l]=d:this._root=d),this):(this._root=i,this)},Qr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Qr.root=function(){return this._root},Qr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Qr.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Kr(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,h=(i+a)/2;(n=u[3])&&s.push(new Kr(n,c,h,o,a)),(n=u[2])&&s.push(new Kr(n,r,h,c,a)),(n=u[1])&&s.push(new Kr(n,c,i,o,h)),(n=u[0])&&s.push(new Kr(n,r,i,c,h))}return this},Qr.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Kr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,h=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new Kr(o,a,s,h,f)),(o=i[1])&&n.push(new Kr(o,h,s,u,f)),(o=i[2])&&n.push(new Kr(o,a,f,h,c)),(o=i[3])&&n.push(new Kr(o,h,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Qr.x=function(t){return arguments.length?(this._x=t,this):this._x},Qr.y=function(t){return arguments.length?(this._y=t,this):this._y};var ai,si=Math.PI*(3-Math.sqrt(5));function ui(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ci(t,e){var n=ui(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hi={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ci(100*t,e)},r:ci,s:function(t,e){var n=ui(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(ai=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ui(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var fi=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function li(t){return new di(t)}function di(t){if(!(e=fi.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],c=e[8]&&+e[8].slice(1),h=e[9]||"";"n"===h?(u=!0,h="g"):hi[h]||(h=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=c,this.type=h}function pi(t){return t}li.prototype=di.prototype,di.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var yi,gi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vi(){return new mi}function mi(){this.reset()}yi=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):pi,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):pi,s=t.percent||"%";function u(t){var e=(t=li(t)).fill,n=t.align,u=t.sign,c=t.symbol,h=t.zero,f=t.width,l=t.comma,d=t.precision,p=t.type,y="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",g="$"===c?i[1]:/[%p]/.test(p)?s:"",v=hi[p],m=!p||/[defgprs%]/.test(p);function _(t){var i,s,c,_=y,b=g;if("c"===p)b=v(t)+b,t="";else{var w=(t=+t)<0;if(t=v(Math.abs(t),d),w&&0==+t&&(w=!1),_=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+_,b=("s"===p?gi[8+ai/3]:"")+b+(w&&"("===u?")":""),m)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){b=(46===c?o+t.slice(i+1):t.slice(i))+b,t=t.slice(0,i);break}}l&&!h&&(t=r(t,1/0));var x=_.length+t.length+b.length,k=x<f?new Array(f-x+1).join(e):"";switch(l&&h&&(t=r(k+t,k.length?f-b.length:1/0),k=""),n){case"<":t=_+t+b+k;break;case"=":t=_+k+t+b;break;case"^":t=k.slice(0,x=k.length>>1)+_+t+b+k.slice(x);break;default:t=k+_+t+b}return a(t)}return d=null==d?p?6:12:/[gprs]/.test(p)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),_.toString=function(){return t+""},_}return{format:u,formatPrefix:function(t,e){var n,r=u(((t=li(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((n=e,((n=ui(Math.abs(n)))?n[1]:NaN)/3)))),o=Math.pow(10,-i),a=gi[8+i/3];return function(t){return r(o*t)+a}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),yi.format,yi.formatPrefix,mi.prototype={constructor:mi,reset:function(){this.s=this.t=0},add:function(t){bi(_i,t,this.t),bi(this,_i.s,this.s),this.s?this.t+=_i.t:this.s=_i.t},valueOf:function(){return this.s}};var _i=new mi;function bi(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var wi=Math.PI,xi=wi/2,ki=2*wi,Mi=wi/180,Ei=(Math.abs,Math.atan),Ai=Math.atan2,Si=Math.cos,Li=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),Ni=(Math.sign,Math.sqrt);Math.tan;function $i(t){return t>1?xi:t<-1?-xi:Math.asin(t)}function Ci(t,e){return[t>wi?t-ki:t<-wi?t+ki:t,e]}vi(),vi(),vi(),Ci.invert=Ci;vi();function Ti(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Gi=function(t){return 1===t.length&&(t=function(t){return function(e,n){return Ti(t(e),n)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}(Ti);Gi.right,Gi.left;var Ui=Array.prototype;function Di(){}function Oi(t){return function(e,n){var r=Si(e),i=Si(n),o=t(r*i);return[o*i*Li(e),o*Li(n)]}}function zi(t){return function(e,n){var r=Ni(e*e+n*n),i=t(r),o=Li(i),a=Si(i);return[Ai(e*o,r*a),$i(r&&n*o/r)]}}function ji(t,e){return[t,e]}function Pi(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Ii(t,e){var n,r,i,o,a,s=new Yi(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Ri);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Yi(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(qi)}function Ri(t){return t.children}function Fi(t){t.data=t.data.data}function qi(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Yi(t){this.data=t,this.depth=this.height=0,this.parent=null}function Bi(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function Wi(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}Ui.slice,Ui.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2),vi(),vi(),vi(),vi(),Di.prototype={constructor:Di,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Si(30*Mi),Oi((function(t){return Ni(2/(1+t))})).invert=zi((function(t){return 2*$i(t/2)})),Oi((function(t){return(t=(e=t)>1?0:e<-1?wi:Math.acos(e))&&t/Li(t);var e})).invert=zi((function(t){return t})),ji.invert=ji,zi(Ei),zi($i),zi((function(t){return 2*Ei(t)})),Yi.prototype=Ii.prototype={constructor:Yi,count:function(){return this.eachAfter(Pi)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Ii(this).eachBefore(Fi)}},Array.prototype.slice,Object.create(Yi.prototype);var Ki=(1+Math.sqrt(5))/2;function Hi(t,e,n,r,i,o){for(var a,s,u,c,h,f,l,d,p,y,g,v=[],m=e.children,_=0,b=0,w=m.length,x=e.value;_<w;){u=i-n,c=o-r;do{h=m[b++].value}while(!h&&b<w);for(f=l=h,g=h*h*(y=Math.max(c/u,u/c)/(x*t)),p=Math.max(l/g,g/f);b<w;++b){if(h+=s=m[b].value,s<f&&(f=s),s>l&&(l=s),g=h*h*y,(d=Math.max(l/g,g/f))>p){h-=s;break}p=d}v.push(a={value:h,dice:u<c,children:m.slice(_,b)}),a.dice?Bi(a,n,r,i,x?r+=c*h/x:o):Wi(a,n,r,x?n+=u*h/x:i,o),x-=h,_=b}return v}!function t(e){function n(t,n,r,i,o){Hi(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ki),function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,h,f=-1,l=a.length,d=t.value;++f<l;){for(u=(s=a[f]).children,c=s.value=0,h=u.length;c<h;++c)s.value+=u[c].value;s.dice?Bi(s,n,r,i,r+=(o-r)*s.value/d):Wi(s,n,r,n+=(i-n)*s.value/d,o),d-=s.value}else t._squarify=a=Hi(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Ki);var Xi=[].slice,Vi={};function Zi(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function Ji(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Qi(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Vi)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])to(t,e);else if(!t._data)throw e}}function Qi(t,e){return function(n,r){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?to(t,n):(t._data[e]=r,t._waiting?Ji(t):eo(t))))}}function to(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,eo(t)}function eo(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function no(){return Math.random()}Zi.prototype=function(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new Zi(t)}.prototype={constructor:Zi,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=Xi.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),Ji(this),this},abort:function(){return null==this._error&&to(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},eo(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,eo(this),this}},function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(no);const ro=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(no),io=(function t(e){function n(){var t=ro.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(no),function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(no));function oo(t,e){var n,r,i,o,a=m("beforesend","progress","load","error"),s=Dr(),u=new XMLHttpRequest,c=null,h=null,f=0;function l(t){var e,r=u.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(u)||r>=200&&r<300||304===r){if(i)try{e=i.call(n,u)}catch(t){return void a.call("error",n,t)}else e=u;a.call("load",n,e)}else a.call("error",n,t)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(t)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=u.ontimeout=l:u.onreadystatechange=function(t){u.readyState>3&&l(t)},u.onprogress=function(t){a.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s.get(t):(null==e?s.remove(t):s.set(t,e+""),n)},mimeType:function(t){return arguments.length?(r=null==t?null:t+"",n):r},responseType:function(t){return arguments.length?(o=t,n):o},timeout:function(t){return arguments.length?(f=+t,n):f},user:function(t){return arguments.length<1?c:(c=null==t?null:t+"",n)},password:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},response:function(t){return i=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,i,l){return u.open(e,t,!0,c,h),null==r||s.has("accept")||s.set("accept",r+",*/*"),u.setRequestHeader&&s.each((function(t,e){u.setRequestHeader(e,t)})),null!=r&&u.overrideMimeType&&u.overrideMimeType(r),null!=o&&(u.responseType=o),f>0&&(u.timeout=f),null==l&&"function"==typeof i&&(l=i,i=null),null!=l&&1===l.length&&(l=function(t){return function(e,n){t(null==e?n:null)}}(l)),null!=l&&n.on("error",l).on("load",(function(t){l(null,t)})),a.call("beforesend",n,u),u.send(null==i?null:i),n},abort:function(){return u.abort(),n},on:function(){var t=a.on.apply(a,arguments);return t===a?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}function ao(t,e){return function(n,r){var i=oo(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}}function so(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var o=oo(n).mimeType(t);return o.row=function(t){return arguments.length?o.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},o.row(r),i?o.get(i):o}}(function t(e){function n(t){var n=io.source(e)(t);return function(){return n()/t}}return n.source=t,n})(no),function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(no),ao("text/html",(function(t){return document.createRange().createContextualFragment(t.responseText)})),ao("application/json",(function(t){return JSON.parse(t.responseText)})),ao("text/plain",(function(t){return t.responseText})),ao("application/xml",(function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e})),so("text/csv",qr),so("text/tab-separated-values",Br);var uo=Array.prototype;uo.map,uo.slice;var co=new Date,ho=new Date;function fo(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return fo((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return co.setTime(+e),ho.setTime(+r),t(co),t(ho),Math.floor(n(co,ho))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var lo=fo((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));lo.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?fo((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):lo:null},lo.range;var po=1e3,yo=6e4,go=36e5,vo=864e5,mo=6048e5,_o=fo((function(t){t.setTime(Math.floor(t/po)*po)}),(function(t,e){t.setTime(+t+e*po)}),(function(t,e){return(e-t)/po}),(function(t){return t.getUTCSeconds()}));_o.range;var bo=fo((function(t){t.setTime(Math.floor(t/yo)*yo)}),(function(t,e){t.setTime(+t+e*yo)}),(function(t,e){return(e-t)/yo}),(function(t){return t.getMinutes()}));bo.range;var wo=fo((function(t){var e=t.getTimezoneOffset()*yo%go;e<0&&(e+=go),t.setTime(Math.floor((+t-e)/go)*go+e)}),(function(t,e){t.setTime(+t+e*go)}),(function(t,e){return(e-t)/go}),(function(t){return t.getHours()}));wo.range;var xo=fo((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yo)/vo}),(function(t){return t.getDate()-1}));const ko=xo;function Mo(t){return fo((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yo)/mo}))}xo.range;var Eo=Mo(0),Ao=Mo(1),So=Mo(2),Lo=Mo(3),No=Mo(4),$o=Mo(5),Co=Mo(6),To=(Eo.range,Ao.range,So.range,Lo.range,No.range,$o.range,Co.range,fo((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));To.range;var Go=fo((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Go.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fo((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Uo=Go;Go.range;var Do=fo((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*yo)}),(function(t,e){return(e-t)/yo}),(function(t){return t.getUTCMinutes()}));Do.range;var Oo=fo((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*go)}),(function(t,e){return(e-t)/go}),(function(t){return t.getUTCHours()}));Oo.range;var zo=fo((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/vo}),(function(t){return t.getUTCDate()-1}));const jo=zo;function Po(t){return fo((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/mo}))}zo.range;var Io=Po(0),Ro=Po(1),Fo=Po(2),qo=Po(3),Yo=Po(4),Bo=Po(5),Wo=Po(6),Ko=(Io.range,Ro.range,Fo.range,qo.range,Yo.range,Bo.range,Wo.range,fo((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})));Ko.range;var Ho=fo((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Ho.every=function(t){return isFinite(t=Math.floor(t))&&t>0?fo((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Xo=Ho;function Vo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Zo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Jo(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}Ho.range;var Qo,ta,ea,na={"-":"",_:" ",0:"0"},ra=/^\s*\d+/,ia=/^%/,oa=/[\\^$*+?|[\]().{}]/g;function aa(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function sa(t){return t.replace(oa,"\\$&")}function ua(t){return new RegExp("^(?:"+t.map(sa).join("|")+")","i")}function ca(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function ha(t,e,n){var r=ra.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function fa(t,e,n){var r=ra.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function la(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function da(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function pa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ya(t,e,n){var r=ra.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function ga(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function va(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ma(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function _a(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ba(t,e,n){var r=ra.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function wa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function xa(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ka(t,e,n){var r=ra.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ma(t,e,n){var r=ra.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ea(t,e,n){var r=ra.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Aa(t,e,n){var r=ia.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Sa(t,e,n){var r=ra.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function La(t,e,n){var r=ra.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Na(t,e){return aa(t.getDate(),e,2)}function $a(t,e){return aa(t.getHours(),e,2)}function Ca(t,e){return aa(t.getHours()%12||12,e,2)}function Ta(t,e){return aa(1+ko.count(Uo(t),t),e,3)}function Ga(t,e){return aa(t.getMilliseconds(),e,3)}function Ua(t,e){return Ga(t,e)+"000"}function Da(t,e){return aa(t.getMonth()+1,e,2)}function Oa(t,e){return aa(t.getMinutes(),e,2)}function za(t,e){return aa(t.getSeconds(),e,2)}function ja(t){var e=t.getDay();return 0===e?7:e}function Pa(t,e){return aa(Eo.count(Uo(t),t),e,2)}function Ia(t,e){var n=t.getDay();return t=n>=4||0===n?No(t):No.ceil(t),aa(No.count(Uo(t),t)+(4===Uo(t).getDay()),e,2)}function Ra(t){return t.getDay()}function Fa(t,e){return aa(Ao.count(Uo(t),t),e,2)}function qa(t,e){return aa(t.getFullYear()%100,e,2)}function Ya(t,e){return aa(t.getFullYear()%1e4,e,4)}function Ba(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+aa(e/60|0,"0",2)+aa(e%60,"0",2)}function Wa(t,e){return aa(t.getUTCDate(),e,2)}function Ka(t,e){return aa(t.getUTCHours(),e,2)}function Ha(t,e){return aa(t.getUTCHours()%12||12,e,2)}function Xa(t,e){return aa(1+jo.count(Xo(t),t),e,3)}function Va(t,e){return aa(t.getUTCMilliseconds(),e,3)}function Za(t,e){return Va(t,e)+"000"}function Ja(t,e){return aa(t.getUTCMonth()+1,e,2)}function Qa(t,e){return aa(t.getUTCMinutes(),e,2)}function ts(t,e){return aa(t.getUTCSeconds(),e,2)}function es(t){var e=t.getUTCDay();return 0===e?7:e}function ns(t,e){return aa(Io.count(Xo(t),t),e,2)}function rs(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Yo(t):Yo.ceil(t),aa(Yo.count(Xo(t),t)+(4===Xo(t).getUTCDay()),e,2)}function is(t){return t.getUTCDay()}function os(t,e){return aa(Ro.count(Xo(t),t),e,2)}function as(t,e){return aa(t.getUTCFullYear()%100,e,2)}function ss(t,e){return aa(t.getUTCFullYear()%1e4,e,4)}function us(){return"+0000"}function cs(){return"%"}function hs(t){return+t}function fs(t){return Math.floor(+t/1e3)}Qo=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=ua(i),h=ca(i),f=ua(o),l=ca(o),d=ua(a),p=ca(a),y=ua(s),g=ca(s),v=ua(u),m=ca(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Na,e:Na,f:Ua,H:$a,I:Ca,j:Ta,L:Ga,m:Da,M:Oa,p:function(t){return i[+(t.getHours()>=12)]},Q:hs,s:fs,S:za,u:ja,U:Pa,V:Ia,w:Ra,W:Fa,x:null,X:null,y:qa,Y:Ya,Z:Ba,"%":cs},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Wa,e:Wa,f:Za,H:Ka,I:Ha,j:Xa,L:Va,m:Ja,M:Qa,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:hs,s:fs,S:ts,u:es,U:ns,V:rs,w:is,W:os,x:null,X:null,y:as,Y:ss,Z:us,"%":cs},w={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=l[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:_a,e:_a,f:Ea,H:wa,I:wa,j:ba,L:Ma,m:ma,M:xa,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:Sa,s:La,S:ka,u:fa,U:la,V:da,w:ha,W:pa,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:ga,Y:ya,Z:va,"%":Aa};function x(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=na[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=Jo(1900);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Zo(Jo(o.y))).getUTCDay(),r=i>4||0===i?Ro.ceil(r):Ro(r),r=jo.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(Jo(o.y))).getDay(),r=i>4||0===i?Ao.ceil(r):Ao(r),r=ko.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Zo(Jo(o.y)).getUTCDay():e(Jo(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Zo(o)):e(o)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in na?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=x(n,_),_.X=x(r,_),_.c=x(e,_),b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),{format:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",Vo);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t,Zo);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Qo.format,Qo.parse,ta=Qo.utcFormat,ea=Qo.utcParse;var ls="%Y-%m-%dT%H:%M:%S.%LZ";function ds(t){return t.match(/.{6}/g).map((function(t){return"#"+t}))}function ps(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Date.prototype.toISOString||ta(ls),+new Date("2000-01-01T00:00:00.000Z")||ea(ls),ds("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ds("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),ds("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),ds("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),En(Ke(300,.5,0),Ke(-240,.5,1)),En(Ke(-100,.75,.35),Ke(80,1.5,.8)),En(Ke(260,.75,.35),Ke(80,1.5,.8)),Ke(),ps(ds("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ps(ds("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ps(ds("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ps(ds("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var ys=Math.PI,gs=2*ys;function vs(t){this._context=t}function ms(t){this._curve=t}vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},ms.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Array.prototype.slice,Math.sqrt(1/3);Math.sin(ys/10),Math.sin(7*ys/10);function _s(){}function bs(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ws(t){this._context=t}function xs(t,e){this._basis=new ws(t),this._beta=e}function ks(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Ms(t,e){this._context=t,this._k=(1-e)/6}function Es(t,e){this._context=t,this._k=(1-e)/6}function As(t,e){this._context=t,this._k=(1-e)/6}function Ss(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,h=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/h,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/h}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ls(t,e){this._context=t,this._alpha=e}function Ns(t,e){this._context=t,this._alpha=e}function $s(t,e){this._context=t,this._alpha=e}function Cs(t){return t<0?-1:1}function Ts(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Cs(o)+Cs(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Gs(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Us(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ds(t){this._context=t}function Os(t){this._context=t}function zs(){this._=null}function js(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ps(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Is(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Rs(t){for(;t.L;)t=t.L;return t}Math.sin(gs/10),Math.cos(gs/10),Math.sqrt(3),Math.sqrt(3),Math.sqrt(12),ws.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bs(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bs(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},xs.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new ws(t):new xs(t,e)}return n.beta=function(e){return t(+e)},n}(.85),Ms.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ks(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ks(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Ms(t,e)}return n.tension=function(e){return t(+e)},n}(0),Es.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ks(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Es(t,e)}return n.tension=function(e){return t(+e)},n}(0),As.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ks(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new As(t,e)}return n.tension=function(e){return t(+e)},n}(0),Ls.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Ss(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Ls(t,e):new Ms(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Ns.prototype={areaStart:_s,areaEnd:_s,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ss(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Ns(t,e):new Es(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ss(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new $s(t,e):new As(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Ds.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Us(this,this._t0,Gs(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Us(this,Gs(this,n=Ts(this,t,e)),n);break;default:Us(this,this._t0,n=Ts(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new Os(t)}.prototype=Object.create(Ds.prototype)).point=function(t,e){Ds.prototype.point.call(this,e,t)},Os.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},zs.prototype={constructor:zs,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Rs(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Ps(this,n),n=(t=n).U),n.C=!1,r.C=!0,Is(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Is(this,n),n=(t=n).U),n.C=!1,r.C=!0,Ps(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Rs(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Ps(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Is(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Ps(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Is(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ps(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Is(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const Fs=zs;function qs(t,e,n,r){var i=[null,null],o=du.push(i)-1;return i.left=t,i.right=e,n&&Bs(i,t,e,n),r&&Bs(i,e,t,r),fu[t.index].halfedges.push(o),fu[e.index].halfedges.push(o),i}function Ys(t,e,n){var r=[e,n];return r.left=t,r}function Bs(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Ws(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],h=0,f=1,l=s[0]-u,d=s[1]-c;if(o=e-u,l||!(o>0)){if(o/=l,l<0){if(o<h)return;o<f&&(f=o)}else if(l>0){if(o>f)return;o>h&&(h=o)}if(o=r-u,l||!(o<0)){if(o/=l,l<0){if(o>f)return;o>h&&(h=o)}else if(l>0){if(o<h)return;o<f&&(f=o)}if(o=n-c,d||!(o>0)){if(o/=d,d<0){if(o<h)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>h&&(h=o)}if(o=i-c,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>h&&(h=o)}else if(d>0){if(o<h)return;o<f&&(f=o)}return!(h>0||f<1)||(h>0&&(t[0]=[u+h*l,c+h*d]),f<1&&(t[1]=[u+f*l,c+f*d]),!0)}}}}}function Ks(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,h=t.right,f=c[0],l=c[1],d=h[0],p=h[1],y=(f+d)/2,g=(l+p)/2;if(p===l){if(y<e||y>=r)return;if(f>d){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(s=g-(a=(f-d)/(p-l))*y,a<-1||a>1)if(f>d){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(l<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function Hs(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Xs(t,e){return e[+(e.left!==t.site)]}function Vs(t,e){return e[+(e.left===t.site)]}var Zs,Js=[];function Qs(){js(this),this.x=this.y=this.arc=this.site=this.cy=null}function tu(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,h=o[0]-a,f=o[1]-s,l=2*(u*f-c*h);if(!(l>=-yu)){var d=u*u+c*c,p=h*h+f*f,y=(f*d-c*p)/l,g=(u*p-h*d)/l,v=Js.pop()||new Qs;v.arc=t,v.site=i,v.x=y+a,v.y=(v.cy=g+s)+Math.sqrt(y*y+g*g),t.circle=v;for(var m=null,_=lu._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}lu.insert(m,v),m||(Zs=v)}}}}function eu(t){var e=t.circle;e&&(e.P||(Zs=e.N),lu.remove(e),Js.push(e),js(e),t.circle=null)}var nu=[];function ru(){js(this),this.edge=this.site=this.circle=null}function iu(t){var e=nu.pop()||new ru;return e.site=t,e}function ou(t){eu(t),hu.remove(t),nu.push(t),js(t)}function au(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];ou(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<pu&&Math.abs(r-u.circle.cy)<pu;)o=u.P,s.unshift(u),ou(u),u=o;s.unshift(u),eu(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<pu&&Math.abs(r-c.circle.cy)<pu;)a=c.N,s.push(c),ou(c),c=a;s.push(c),eu(c);var h,f=s.length;for(h=1;h<f;++h)c=s[h],u=s[h-1],Bs(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=qs(u.site,c.site,null,i),tu(u),tu(c)}function su(t){for(var e,n,r,i,o=t[0],a=t[1],s=hu._;s;)if((r=uu(s,a)-o)>pu)s=s.L;else{if(!((i=o-cu(s,a))>pu)){r>-pu?(e=s.P,n=s):i>-pu?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){fu[t.index]={site:t,halfedges:[]}}(t);var u=iu(t);if(hu.insert(e,u),e||n){if(e===n)return eu(e),n=iu(e.site),hu.insert(u,n),u.edge=n.edge=qs(e.site,u.site),tu(e),void tu(n);if(n){eu(e),eu(n);var c=e.site,h=c[0],f=c[1],l=t[0]-h,d=t[1]-f,p=n.site,y=p[0]-h,g=p[1]-f,v=2*(l*g-d*y),m=l*l+d*d,_=y*y+g*g,b=[(g*m-d*_)/v+h,(l*_-y*m)/v+f];Bs(n.edge,c,p,b),u.edge=qs(c,t,null,b),n.edge=qs(t,p,null,b),tu(e),tu(n)}else u.edge=qs(e.site,u.site)}}function uu(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var h=s-r,f=1/o-1/c,l=h/c;return f?(-l+Math.sqrt(l*l-2*f*(h*h/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function cu(t,e){var n=t.N;if(n)return uu(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var hu,fu,lu,du,pu=1e-6,yu=1e-12;function gu(t,e){return e[1]-t[1]||e[0]-t[0]}function vu(t,e){var n,r,i,o=t.sort(gu).pop();for(du=[],fu=new Array(t.length),hu=new Fs,lu=new Fs;;)if(i=Zs,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(su(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;au(i.arc)}if(function(){for(var t,e,n,r,i=0,o=fu.length;i<o;++i)if((t=fu[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Hs(t,du[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=du.length;o--;)Ks(i=du[o],t,e,n,r)&&Ws(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>pu||Math.abs(i[0][1]-i[1][1])>pu)||delete du[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,h,f,l,d,p,y,g=fu.length,v=!0;for(i=0;i<g;++i)if(o=fu[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)du[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)p=(d=Vs(o,du[u[s]]))[0],y=d[1],f=(h=Xs(o,du[u[++s%c]]))[0],l=h[1],(Math.abs(p-f)>pu||Math.abs(y-l)>pu)&&(u.splice(s,0,du.push(Ys(a,d,Math.abs(p-t)<pu&&r-y>pu?[t,Math.abs(f-t)<pu?l:r]:Math.abs(y-r)<pu&&n-p>pu?[Math.abs(l-r)<pu?f:n,r]:Math.abs(p-n)<pu&&y-e>pu?[n,Math.abs(f-n)<pu?l:e]:Math.abs(y-e)<pu&&p-t>pu?[Math.abs(l-e)<pu?f:t,e]:null))-1),++c);c&&(v=!1)}if(v){var m,_,b,w=1/0;for(i=0,v=null;i<g;++i)(o=fu[i])&&(b=(m=(a=o.site)[0]-t)*m+(_=a[1]-e)*_)<w&&(w=b,v=o);if(v){var x=[t,e],k=[t,r],M=[n,r],E=[n,e];v.halfedges.push(du.push(Ys(a=v.site,x,k))-1,du.push(Ys(a,k,M))-1,du.push(Ys(a,M,E))-1,du.push(Ys(a,E,x))-1)}}for(i=0;i<g;++i)(o=fu[i])&&(o.halfedges.length||delete fu[i])}(a,s,u,c)}this.edges=du,this.cells=fu,hu=lu=du=fu=null}function mu(t){return function(){return t}}function _u(t,e,n){this.target=t,this.type=e,this.transform=n}function bu(t,e,n){this.k=t,this.x=e,this.y=n}vu.prototype={constructor:vu,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Xs(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,c=e[i[o-1]],h=c.left===s?c.right:c.left;++u<o;)a=h,h=(c=e[i[u]]).left===s?c.right:c.left,a&&h&&r<a.index&&r<h.index&&(l=a,d=h,((f=s)[0]-d[0])*(l[1]-f[1])-(f[0]-l[0])*(d[1]-f[1])<0)&&t.push([s.data,a.data,h.data]);var f,l,d})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],h=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<h&&(h=f,a=s.index)}}))}while(null!==a);return o._found=r,null==n||h<=n*n?i.site:null}},bu.prototype={constructor:bu,scale:function(t){return 1===t?this:new bu(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new bu(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var wu=new bu(1,0,0);function xu(){_t.stopImmediatePropagation()}function ku(){_t.preventDefault(),_t.stopImmediatePropagation()}function Mu(){return!_t.button}function Eu(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Au(){return this.__zoom||wu}function Su(){return-_t.deltaY*(_t.deltaMode?120:1)/500}function Lu(){return"ontouchstart"in this}function Nu(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}bu.prototype;var $u="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>0;function Cu(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),(function(){n(window.event)}))}function Tu(t,e){for(var n=e.slice(0,e.length-1),r=0;r<n.length;r++)n[r]=t[n[r].toLowerCase()];return n}function Gu(t){"string"!=typeof t&&(t="");for(var e=(t=t.replace(/\s/g,"")).split(","),n=e.lastIndexOf("");n>=0;)e[n-1]+=",",e.splice(n,1),n=e.lastIndexOf("");return e}for(var Uu={backspace:8,"⌫":8,tab:9,clear:12,enter:13,"↩":13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":$u?173:189,"=":$u?61:187,";":$u?59:186,"'":222,"[":219,"]":221,"\\":220},Du={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},Ou={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},zu={16:!1,18:!1,17:!1,91:!1},ju={},Pu=1;Pu<20;Pu++)Uu["f".concat(Pu)]=111+Pu;var Iu=[],Ru=!1,Fu="all",qu=[],Yu=function(t){return Uu[t.toLowerCase()]||Du[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function Bu(t){Fu=t||"all"}function Wu(){return Fu||"all"}var Ku=function(t){var e=t.key,n=t.scope,r=t.method,i=t.splitKey,o=void 0===i?"+":i;Gu(e).forEach((function(t){var e=t.split(o),i=e.length,a=e[i-1],s="*"===a?"*":Yu(a);if(ju[s]){n||(n=Wu());var u=i>1?Tu(Du,e):[];ju[s]=ju[s].filter((function(t){return!((!r||t.method===r)&&t.scope===n&&function(t,e){for(var n=t.length>=e.length?t:e,r=t.length>=e.length?e:t,i=!0,o=0;o<n.length;o++)-1===r.indexOf(n[o])&&(i=!1);return i}(t.mods,u))}))}}))};function Hu(t,e,n,r){var i;if(e.element===r&&(e.scope===n||"all"===e.scope)){for(var o in i=e.mods.length>0,zu)Object.prototype.hasOwnProperty.call(zu,o)&&(!zu[o]&&e.mods.indexOf(+o)>-1||zu[o]&&-1===e.mods.indexOf(+o))&&(i=!1);(0!==e.mods.length||zu[16]||zu[18]||zu[17]||zu[91])&&!i&&"*"!==e.shortcut||(e.keys=[],e.keys=e.keys.concat(Iu),!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0)))}}function Xu(t,e){var n=ju["*"],r=t.keyCode||t.which||t.charCode;if(Vu.filter.call(this,t)){if(93!==r&&224!==r||(r=91),-1===Iu.indexOf(r)&&229!==r&&Iu.push(r),["ctrlKey","altKey","shiftKey","metaKey"].forEach((function(e){var n=Ou[e];t[e]&&-1===Iu.indexOf(n)?Iu.push(n):!t[e]&&Iu.indexOf(n)>-1?Iu.splice(Iu.indexOf(n),1):"metaKey"===e&&t[e]&&3===Iu.length&&(t.ctrlKey||t.shiftKey||t.altKey||(Iu=Iu.slice(Iu.indexOf(n))))})),r in zu){for(var i in zu[r]=!0,Du)Du[i]===r&&(Vu[i]=!0);if(!n)return}for(var o in zu)Object.prototype.hasOwnProperty.call(zu,o)&&(zu[o]=t[Ou[o]]);t.getModifierState&&(!t.altKey||t.ctrlKey)&&t.getModifierState("AltGraph")&&(-1===Iu.indexOf(17)&&Iu.push(17),-1===Iu.indexOf(18)&&Iu.push(18),zu[17]=!0,zu[18]=!0);var a=Wu();if(n)for(var s=0;s<n.length;s++)n[s].scope===a&&("keydown"===t.type&&n[s].keydown||"keyup"===t.type&&n[s].keyup)&&Hu(t,n[s],a,e);if(r in ju)for(var u=0;u<ju[r].length;u++)if(("keydown"===t.type&&ju[r][u].keydown||"keyup"===t.type&&ju[r][u].keyup)&&ju[r][u].key){for(var c=ju[r][u],h=c.splitKey,f=c.key.split(h),l=[],d=0;d<f.length;d++)l.push(Yu(f[d]));l.sort().join("")===Iu.sort().join("")&&Hu(t,c,a,e)}}}function Vu(t,e,n){Iu=[];var r=Gu(t),i=[],o="all",a=document,s=0,u=!1,c=!0,h="+",f=!1;for(void 0===n&&"function"==typeof e&&(n=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(o=e.scope),e.element&&(a=e.element),e.keyup&&(u=e.keyup),void 0!==e.keydown&&(c=e.keydown),void 0!==e.capture&&(f=e.capture),"string"==typeof e.splitKey&&(h=e.splitKey)),"string"==typeof e&&(o=e);s<r.length;s++)i=[],(t=r[s].split(h)).length>1&&(i=Tu(Du,t)),(t="*"===(t=t[t.length-1])?"*":Yu(t))in ju||(ju[t]=[]),ju[t].push({keyup:u,keydown:c,scope:o,mods:i,shortcut:r[s],method:n,key:r[s],splitKey:h,element:a});void 0!==a&&!function(t){return qu.indexOf(t)>-1}(a)&&window&&(qu.push(a),Cu(a,"keydown",(function(t){Xu(t,a)}),f),Ru||(Ru=!0,Cu(window,"focus",(function(){Iu=[]}),f)),Cu(a,"keyup",(function(t){Xu(t,a),function(t){var e=t.keyCode||t.which||t.charCode,n=Iu.indexOf(e);if(n>=0&&Iu.splice(n,1),t.key&&"meta"===t.key.toLowerCase()&&Iu.splice(0,Iu.length),93!==e&&224!==e||(e=91),e in zu)for(var r in zu[e]=!1,Du)Du[r]===e&&(Vu[r]=!1)}(t)}),f))}var Zu={getPressedKeyString:function(){return Iu.map((function(t){return e=t,Object.keys(Uu).find((function(t){return Uu[t]===e}))||function(t){return Object.keys(Du).find((function(e){return Du[e]===t}))}(t)||String.fromCharCode(t);var e}))},setScope:Bu,getScope:Wu,deleteScope:function(t,e){var n,r;for(var i in t||(t=Wu()),ju)if(Object.prototype.hasOwnProperty.call(ju,i))for(n=ju[i],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++;Wu()===t&&Bu(e||"all")},getPressedKeyCodes:function(){return Iu.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=Yu(t)),-1!==Iu.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,n=e.tagName,r=!0;return!e.isContentEditable&&("INPUT"!==n&&"TEXTAREA"!==n&&"SELECT"!==n||e.readOnly)||(r=!1),r},trigger:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";Object.keys(ju).forEach((function(n){ju[n].filter((function(n){return n.scope===e&&n.shortcut===t})).forEach((function(t){t&&t.method&&t.method()}))}))},unbind:function(t){if(void 0===t)Object.keys(ju).forEach((function(t){return delete ju[t]}));else if(Array.isArray(t))t.forEach((function(t){t.key&&Ku(t)}));else if("object"==typeof t)t.key&&Ku(t);else if("string"==typeof t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=n[0],o=n[1];"function"==typeof i&&(o=i,i=""),Ku({key:t,scope:i,method:o,splitKey:"+"})}},keyMap:Uu,modifier:Du,modifierMap:Ou};for(var Ju in Zu)Object.prototype.hasOwnProperty.call(Zu,Ju)&&(Vu[Ju]=Zu[Ju]);if("undefined"!=typeof window){var Qu=window.hotkeys;Vu.noConflict=function(t){return t&&window.hotkeys===Vu&&(window.hotkeys=Qu),Vu},window.hotkeys=Vu}const tc={notFiltered:0,filteredByTimeline:1,filteredByFocus:2,filteredByTag:3,filteredByType:4};var ec=[];data.nodes=data.nodes.map((function(t){return ec.push(t.id),t.hidden=tc.notFiltered,t.isolated=!1,t.highlighted=!1,t}));var nc=Tt("#graph-canvas"),rc=nc.append("svg"),ic=nc.node().getBoundingClientRect(),oc=ic.width,ac=ic.height;rc.attr("viewBox",[0,0,oc,ac]).attr("preserveAspectRatio","xMinYMin meet");var sc=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Dr(),u=jn(h),c=m("tick","end");function h(){f(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function f(){var e,r,u=t.length;for(n+=(o-n)*i,s.each((function(t){t(n)})),e=0;e<u;++e)null==(r=t[e]).fx?r.x+=r.vx*=a:(r.x=r.fx,r.vx=0),null==r.fy?r.y+=r.vy*=a:(r.y=r.fy,r.vy=0)}function l(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*si;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),l(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,l(),s.each(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,h=t.length;for(null==r?r=1/0:r*=r,c=0;c<h;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}(data.nodes).force("link",function(t){var e,n,r,i,o,a=ni,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=ti(30),c=1;function h(r){for(var i=0,a=t.length;i<c;++i)for(var s,u,h,f,l,d,p,y=0;y<a;++y)u=(s=t[y]).source,f=(h=s.target).x+h.vx-u.x-u.vx||ei(),l=h.y+h.vy-u.y-u.vy||ei(),f*=d=((d=Math.sqrt(f*f+l*l))-n[y])/d*r*e[y],l*=d,h.vx-=f*(p=o[y]),h.vy-=l*p,u.vx+=f*(p=1-p),u.vy+=l*p}function f(){if(r){var s,u,c=r.length,h=t.length,f=Dr(r,a);for(s=0,i=new Array(c);s<h;++s)(u=t[s]).index=s,"object"!=typeof u.source&&(u.source=ri(f,u.source)),"object"!=typeof u.target&&(u.target=ri(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(h);s<h;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(h),l(),n=new Array(h),d()}}function l(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t){r=t,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(c=+t,h):c},h.strength=function(t){return arguments.length?(s="function"==typeof t?t:ti(+t),l(),h):s},h.distance=function(t){return arguments.length?(u="function"==typeof t?t:ti(+t),d(),h):u},h}(data.links).id((function(t){return t.id}))).force("charge",function(){var t,e,n,r,i=ti(-30),o=1,a=1/0,s=.81;function u(r){var i,o=t.length,a=Vr(t,ii,oi).visitAfter(h);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function h(t){var e,n,i,o,a,s=0,u=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,i,u,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,l=c-i,d=h*h+f*f;if(l*l/s<d)return d<a&&(0===h&&(d+=(h=ei())*h),0===f&&(d+=(f=ei())*f),d<o&&(d=Math.sqrt(o*d)),e.vx+=h*t.value*n/d,e.vy+=f*t.value*n/d),!0;if(!(t.length||d>=a)){(t.data!==e||t.next)&&(0===h&&(d+=(h=ei())*h),0===f&&(d+=(f=ei())*f),d<o&&(d=Math.sqrt(o*d)));do{t.data!==e&&(l=r[t.data.index]*n/d,e.vx+=h*l,e.vy+=f*l)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:ti(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u}()).force("center",function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}()).force("forceX",function(t){var e,n,r,i=ti(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=ti(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:ti(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:ti(+e),a(),o):t},o}()).force("forceY",function(t){var e,n,r,i=ti(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=ti(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:ti(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:ti(+e),a(),o):t},o}());sc.force("center").x(.5*oc).y(.5*ac),window.updateForces=function(){sc.force("charge").strength(-Math.abs(graphProperties.attraction_force)).distanceMax(graphProperties.attraction_distance_max),sc.force("forceX").strength(graphProperties.attraction_vertical),sc.force("forceY").strength(graphProperties.attraction_horizontal),sc.alpha(1).restart()},updateForces(),Vu("space",(function(t){t.preventDefault(),updateForces()})),sc.on("tick",(function(){uc.links.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),uc.nodes.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"})),Tt("#load-bar-value").style("flex-basis",100*sc.alpha()+"%"),gc()}));var uc={},cc=new Set(["jpg","jpeg","png"]);function hc(t,e,n){for(var r=[],i=2*Math.PI/t,o=0;o<t;o++){var a=o*i,s=(o+1)*i,u=0+e*Math.cos(a),c=0+e*Math.sin(a),h=0+e*Math.cos(s),f=0+e*Math.sin(s),l="M ".concat(u," ").concat(c," A ").concat(e," ").concat(e," 0 0 1 ").concat(h," ").concat(f," L ").concat(0," ").concat(0," Z"),d=0+(e+n)*Math.cos(a),p=0+(e+n)*Math.sin(a),y=0+(e+n)*Math.cos(s),g=0+(e+n)*Math.sin(s),v="M ".concat(d," ").concat(p," A ").concat(e+n," ").concat(e+n," 0 0 1 ").concat(y," ").concat(g," L ").concat(0," ").concat(0," Z");r.push({segment:l,border:v})}return r}function fc(t){var e=uc.nodes.filter((function(t){return t.hidden===tc.notFiltered})).data().map((function(t){return t.id}));return{nodes:uc.nodes.filter((function(e){return t.includes(e.id)})),links:uc.links.filter((function(n){return!(!t.includes(n.source.id)&&!t.includes(n.target.id)||!e.includes(n.source.id)||!e.includes(n.target.id))}))}}function lc(t,e){var n=[],r=[];ec.forEach((function(e){t.includes(e)?r.push(e):n.push(e)})),function(t,e){if(hideNodeNetwork(t),function(t){var e,n=mc(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;Mc.querySelectorAll('[data-index="'+r+'"]').forEach((function(t){t.style.display="none"}))}}catch(t){n.e(t)}finally{n.f()}}(t),void 0===e)throw new Error("Need priority");uc.nodes.data().map((function(n){var r=n.id,i=n.hidden;return t.includes(r)&&i<=e&&(n.hidden=e),n}))}(n,e),dc(r,e)}function dc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:tc.notFiltered,n=[];uc.nodes.data().map((function(r){var i=r.id,o=r.hidden;return t.includes(i)&&o<=e&&(n.push(i),r.hidden=tc.notFiltered),r})),displayNodeNetwork(n),function(t){var e,n=mc(t=t.filter((function(t){if(vc.find((function(e){return e.id===t})).hidden===tc.notFiltered)return!0})));try{for(n.s();!(e=n.n()).done;){var r=e.value;Mc.querySelectorAll('[data-index="'+r+'"]').forEach((function(t){t.style.display=null}))}}catch(t){n.e(t)}finally{n.f()}}(n)}function pc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tc.notFiltered;dc(ec,t)}function yc(){if(0!==u.highlightedNodes.length){var t=fc(u.highlightedNodes),e=t.nodes,n=t.links;e.selectAll(".border").style("fill",null),n.style("stroke",null),u.highlightedNodes=[]}}function gc(){var t=l(data.nodes,(function(t){return t.x})),e=f(data.nodes,(function(t){return t.x})),n=l(data.nodes,(function(t){return t.y})),r=f(data.nodes,(function(t){return t.y})),i=u.position,o=i.x,a=i.y,s=i.zoom,c=1200,h=e-t;h<c&&(h=c);var d=r-n;d<c&&(d=c);var p=[((t+e)/2-h/2-o)/s,((n+r)/2-d/2-a)/s,h/s,d/s];rc.attr("viewBox",p).attr("preserveAspectRatio")}uc.links=rc.append("g").selectAll("line").data(data.links).enter().append("line").attr("stroke",(function(t){return t.color})).attr("title",(function(t){return t.title})).attr("data-source",(function(t){return t.source.id})).attr("data-target",(function(t){return t.target.id})).attr("stroke-dasharray",(function(t){return("dash"===t.shape.stroke||"dotted"===t.shape.stroke)&&t.shape.dashInterval})).attr("filter",(function(t){return"double"===t.shape.stroke&&"url(#double)"})),!0===graphProperties.graph_arrows&&uc.links.attr("marker-end","url(#arrow)"),uc.nodes=rc.append("g").selectAll("g").data(data.nodes).enter().append("g").attr("data-node",(function(t){return t.id})).append("a").attr("href",(function(t){return"#"+t.id})).call(function(){var t,e,n,r,i=Bt,o=Wt,a=Kt,s=Ht,u={},c=m("start","drag","end"),h=0,f=0;function l(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),zt,this,arguments);a&&(Tt(_t.view).on("mousemove.drag",p,!0).on("mouseup.drag",y,!0),Rt(_t.view),Pt(),n=!1,t=_t.clientX,e=_t.clientY,a("start"))}}function p(){if(It(),!n){var r=_t.clientX-t,i=_t.clientY-e;n=r*r+i*i>f}u.mouse("drag")}function y(){Tt(_t.view).on("mousemove.drag mouseup.drag",null),Ft(_t.view,n),It(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=_t.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,jt,this,arguments))&&(Pt(),e("start"))}}function v(){var t,e,n=_t.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(It(),e("drag"))}function _(){var t,e,n=_t.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=u[n[t].identifier])&&(Pt(),e("end"))}function b(t,e,n,r,i){var o,s,f,d=n(e,t),p=c.copy();if(Mt(new Yt(l,"beforestart",o,t,h,d[0],d[1],0,0,p),(function(){return null!=(_t.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,f=o.y-d[1]||0,!0)})))return function a(c){var y,g=d;switch(c){case"start":u[t]=a,y=h++;break;case"end":delete u[t],--h;case"drag":d=n(e,t),y=h}Mt(new Yt(l,c,o,t,y,d[0]+s,d[1]+f,d[0]-g[0],d[1]-g[1],p),p.apply,p,[c,r,i])}}return l.filter=function(t){return arguments.length?(i="function"==typeof t?t:qt(!!t),l):i},l.container=function(t){return arguments.length?(o="function"==typeof t?t:qt(t),l):o},l.subject=function(t){return arguments.length?(a="function"==typeof t?t:qt(t),l):a},l.touchable=function(t){return arguments.length?(s="function"==typeof t?t:qt(!!t),l):s},l.on=function(){var t=c.on.apply(c,arguments);return t===c?l:t},l.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,l):Math.sqrt(f)},l}().on("start",(function(t){_t.active||sc.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})).on("drag",(function(t){t.fx=_t.x,t.fy=_t.y})).on("end",(function(t){_t.active||sc.alphaTarget(1e-4),t.fx=null,t.fy=null}))).on("mouseover",(function(t){var e=[t.id],n=uc.links.filter((function(n){return n.source.id!==t.id&&n.target.id!==t.id||(e.push(n.source.id,n.target.id),!1)})),r=uc.nodes.filter((function(t){return!e.includes(t.id)})),i=uc.links.filter((function(e){return e.source.id===t.id||e.target.id===t.id}));uc.nodes.filter((function(t){return!!e.includes(t.id)})).selectAll(".border").style("fill","var(--highlight)"),i.style("stroke","var(--highlight)"),r.attr("opacity",.5),n.attr("stroke-opacity",.5)})).on("mouseout",(function(){var t=xc();uc.nodes.filter((function(e){var n=e.id;return!t||n!==t})).selectAll(".border").style("fill",null),uc.links.filter((function(e){return!t||e.source.id!==t&&e.target.id!==t})).style("stroke",null),uc.nodes.attr("opacity",null),uc.links.attr("stroke-opacity",null)})),uc.nodes.each((function(t){var e=Tt(this),n=function(t){return cc.has(t.split(".").at(-1))?"url(#".concat(t,")"):t},r=function(n,r){e.append("circle").attr("class","border").attr("r",t.size+2).attr("fill",n),e.append("circle").attr("r",t.size).attr("fill",r)};if(t.thumbnail)1===t.types.length?r(graphProperties.record_types[t.types[0]].stroke,"url(#".concat(t.thumbnail,")")):(hc(t.types.length,t.size,2).forEach((function(n,r){var i=n.border,o=graphProperties.record_types[t.types[r]];e.append("path").attr("d",i).attr("fill",o.stroke).attr("class","border")})),e.append("circle").attr("r",t.size).attr("fill","var(--background-gray)"),e.append("circle").attr("r",t.size).attr("fill","url(#".concat(t.thumbnail,")")));else if(1===t.types.length){var i=graphProperties.record_types[t.types[0]];r(i.stroke,n(i.fill))}else hc(t.types.length,t.size,2).forEach((function(r,i){var o=r.segment,a=r.border,s=graphProperties.record_types[t.types[i]];e.append("path").attr("d",a).attr("fill",s.stroke).attr("class","border"),e.append("path").attr("d",o).attr("fill","var(--background-gray)"),e.append("path").attr("d",o).attr("fill",n(s.fill))}))})),uc.labels=uc.nodes.append("text").each((function(t){for(var e=t.label.split(" "),n=Tt(this),r="",i=0;i<e.length;i++)(r+=e[i]+" ").length<25&&i!==e.length-1||(n.append("tspan").attr("x",0).attr("dy","1.2em").text(r.slice(0,-1)),r="")})).attr("font-size",graphProperties.graph_text_size).attr("x",0).attr("y",(function(t){return t.size})).attr("dominant-baseline","middle").attr("text-anchor","middle"),window.zoomToNode=function(t){var e=uc.nodes.filter((function(e){return e.id===t})).datum(),n=e.x,r=e.y;n=-Math.abs(n-200),r=-Math.abs(r-300),u.position={x:n,y:r,zoom:2},gc()},Vu("c",(function(t){t.preventDefault();var e=new URL(window.location).hash;if(e){var n=decodeURI(e.substring(1));zoomToNode(n)}})),window.hideNodeNetwork=function(t){var e=fc(t),n=e.nodes,r=e.links;n.style("display","none"),r.style("display","none")},window.displayNodeNetwork=function(t){var e=fc(t),n=e.nodes,r=e.links;n.style("display",null),r.style("display",null)},window.linksDisplayToggle=function(t){t?uc.links.style("display",null):uc.links.style("display","none")},window.labelDisplayToggle=function(t){t?uc.labels.style("display",null):uc.labels.style("display","none")},window.labelHighlight=function(t){uc.nodes.data().map((function(e){return t.includes(e.id)&&(e.highlighted=!0),e})),uc.nodes.filter((function(e){return t.includes(e.id)})).select("text").style("fill","var(--highlight)")},window.updateFontsize=function(){uc.labels.attr("font-size",graphProperties.text_size)},window.labelUnlight=function(t){uc.nodes.data().map((function(e){return t.includes(e.id)&&(e.highlighted=!1),e})),uc.nodes.filter((function(e){return t.includes(e.id)})).select("text").style("fill",null)},window.labelUnlightAll=function(){data.nodes=data.nodes.map((function(t){return t.highlighted=!1,t})),uc.labels.style("fill",null)};var vc=uc.nodes.data();function mc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _c(t,e){if(t){if("string"==typeof t)return bc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bc(t,e):void 0}}function bc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}uc.links.data();var wc=document.getElementById("record-container");function xc(){var t=new URL(window.location).hash;if(t)return decodeURI(t.substring(1))}function kc(){var t=xc();t?openRecord(t):(wc.classList.remove("active"),yc())}window.openRecord=function(t){var e,n,r,i,o=document.getElementById(t);if(o){var a=xc();a&&document.getElementById(a).classList.remove("active"),wc.classList.add("active"),wc.scrollTo({top:0}),o.classList.add("active"),yc(),n=fc(e=[t]),r=n.nodes,i=n.links,r.selectAll(".border").style("fill","var(--highlight)"),i.style("stroke","var(--highlight)"),u.highlightedNodes=u.highlightedNodes.concat(e);var s=o.querySelector("h1").textContent;document.title=s}},window.closeRecord=function(){var t=xc();if(wc.classList.remove("active"),void 0!==t){var e=document.getElementById(t);e&&e.classList.remove("active"),history.pushState("",document.title,window.location.pathname),yc()}},Vu("escape",(function(t){t.preventDefault(),closeRecord()})),window.addEventListener("hashchange",kc),window.addEventListener("DOMContentLoaded",kc);var Mc=document.getElementById("index");window.addEventListener("DOMContentLoaded",(function(){var t=Mc.querySelector(".sorting-select"),e=sorting.records;function n(){for(var n=Mc.querySelectorAll("li"),r=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||_c(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.value.split(":"),2),i=r[0],o=r[1],a=0;a<n.length;a++){var s=e[a][i],u=n[a];"reverse"===o&&(s=n.length-1-s),u.style.order=s}}n(),t.addEventListener("change",n)}));var Ec=n(691),Ac=new(n.n(Ec)())([],{includeScore:!1,keys:["label"]});window.addEventListener("DOMContentLoaded",(function(){var t=[],e=0,n=document.getElementById("search"),r=document.getElementById("search-result-list");function i(){r.childNodes[e].classList.add("outline")}function o(){r.childNodes[e].classList.remove("outline")}n.addEventListener("focus",(function(){Ac.setCollection(vc.filter((function(t){return 0===t.hidden}))),n.addEventListener("input",(function(){if(r.innerHTML="",e=0,t=[],""!==n.value){t=Ac.search(n.value);for(var o=0;o<Math.min(5,t.length);o++){var a=t[o].item,s=a.id,u=a.label,c=a.types,h=document.createElement("li");h.classList.add("search-result-item"),h.innerHTML='\n        <a href="#'.concat(s,'">\n          <span class="record-type-points">\n              ').concat(c.map((function(t){return'<span style="color:var(--n_'.concat(t,')">⬤</span>')})).join(" "),'\n          </span>\n          <span class="record-title">').concat(u,"</span>\n        </a>"),r.appendChild(h)}i()}}))})),Vu("s",(function(t){t.preventDefault(),n.focus()})),document.addEventListener("keydown",(function(r){if(0!==t.length)switch(r.key){case"ArrowUp":r.preventDefault(),e>0&&(o(),e--,i()),0===e&&n.focus();break;case"ArrowDown":if(r.preventDefault(),4===e||e===t.length-1)break;o(),e++,i(),1===e&&n.blur();break;case"Enter":r.preventDefault(),window.location.hash=t[e].item.id,n.blur()}}))}));var Sc=function(){var t,e,n=Mu,r=Eu,i=Nu,o=Su,a=Lu,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=_n,f=[],l=m("start","zoom","end"),d=500,p=150,y=0;function g(t){t.property("__zoom",Au).on("wheel.zoom",M).on("mousedown.zoom",E).on("dblclick.zoom",A).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new bu(e,t.x,t.y)}function _(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new bu(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n){t.on("start.zoom",(function(){x(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=x(t,i),a=r.apply(t,i),s=n||b(a),u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,i):e,l=h(c.invert(s).concat(u/c.k),f.invert(s).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=l(t),n=u/e[2];t=new bu(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function x(t,e){for(var n,r=0,i=f.length;r<i;++r)if((n=f[r]).that===t)return n;return new k(t,e)}function k(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=r.apply(t,e)}function M(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=zt(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],Zn(this),t.start()}ku(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),p),t.zoom("mouse",i(_(v(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}}function E(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments),r=Tt(_t.view).on("mousemove.zoom",(function(){if(ku(),!t.moved){var e=_t.clientX-a,n=_t.clientY-s;t.moved=e*e+n*n>y}t.zoom("mouse",i(_(t.that.__zoom,t.mouse[0]=zt(t.that),t.mouse[1]),t.extent,u))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),Ft(_t.view,t.moved),ku(),t.end()}),!0),o=zt(this),a=_t.clientX,s=_t.clientY;Rt(_t.view),xu(),t.mouse=[o,this.__zoom.invert(o)],Zn(this),t.start()}}function A(){if(n.apply(this,arguments)){var t=this.__zoom,e=zt(this),o=t.invert(e),a=t.k*(_t.shiftKey?.5:2),s=i(_(v(t,a),e,o),r.apply(this,arguments),u);ku(),c>0?Tt(this).transition().duration(c).call(w,s,e):Tt(this).call(g.transform,s)}}function S(){if(n.apply(this,arguments)){var e,r,i,o,a=x(this,arguments),s=_t.changedTouches,u=s.length;for(xu(),r=0;r<u;++r)o=[o=jt(this,s,(i=s[r]).identifier),this.__zoom.invert(o),i.identifier],a.touch0?a.touch1||(a.touch1=o):(a.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!a.touch1))return a.end(),void((o=Tt(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),d),Zn(this),a.start())}}function L(){var e,n,r,o,a=x(this,arguments),s=_t.changedTouches,c=s.length;for(ku(),t&&(t=clearTimeout(t)),e=0;e<c;++e)r=jt(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],l=a.touch1[0],d=a.touch1[1],p=(p=l[0]-h[0])*p+(p=l[1]-h[1])*p,y=(y=d[0]-f[0])*y+(y=d[1]-f[1])*y;n=v(n,Math.sqrt(p/y)),r=[(h[0]+l[0])/2,(h[1]+l[1])/2],o=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(_(n,r,o),a.extent,u))}function N(){var t,n,r=x(this,arguments),i=_t.changedTouches,o=i.length;for(xu(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}return g.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Au),t!==n?w(t,e):n.interrupt().each((function(){x(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e){g.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}))},g.scaleTo=function(t,e){g.transform(t,(function(){var t=r.apply(this,arguments),n=this.__zoom,o=b(t),a=n.invert(o),s="function"==typeof e?e.apply(this,arguments):e;return i(_(v(n,s),o,a),t,u)}))},g.translateBy=function(t,e,n){g.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}))},g.translateTo=function(t,e,n){g.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=b(t);return i(wu.translate(a[0],a[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)}))},k.prototype={start:function(){return 1==++this.active&&(this.index=f.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(f.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Mt(new _u(g,t,this.that.__zoom),l.apply,l,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:mu(+t),g):o},g.filter=function(t){return arguments.length?(n="function"==typeof t?t:mu(!!t),g):n},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:mu(!!t),g):a},g.extent=function(t){return arguments.length?(r="function"==typeof t?t:mu([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(c=+t,g):c},g.interpolate=function(t){return arguments.length?(h=t,g):h},g.on=function(){var t=l.on.apply(l,arguments);return t===l?g:t},g.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,g):Math.sqrt(y)},g}().scaleExtent([1,10]).on("zoom",(function(){var t=_t.transform,e=t.x,n=t.y,r=t.k;u.position.x=e||0,u.position.y=n||0,u.position.zoom=r||1,gc()}));function Lc(){u.position.zoom=1,u.position.x=0,u.position.y=0,nc.call(Sc.transform,wu.translate(u.position.y,u.position.x).scale(u.position.zoom)),gc()}function Nc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$c(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function $c(t,e){if(t){if("string"==typeof t)return Cc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cc(t,e):void 0}}function Cc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tc(){var t,e=document.getElementById("index-counter"),n=document.querySelectorAll(".menu-types-list .badge"),r=0,i={},o=Nc(data.nodes);try{for(o.s();!(t=o.n()).done;){var a=t.value,s=a.hidden,u=a.type;!0!==s&&(r+=1,i[u]?i[u]+=1:i[u]=1)}}catch(t){o.e(t)}finally{o.f()}var c,h=Nc(n);try{for(h.s();!(c=h.n()).done;){var f=c.value;Gc(f,i[f.previousElementSibling.name]||0)}}catch(t){h.e(t)}finally{h.f()}Gc(e,r)}function Gc(t,e){var n,r,i=(n=t.textContent.split("/",2),r=2,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(n,r)||$c(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[0],a=i[1];o=Number(o),a=Number(a)||o,t.textContent=e===a?a:"".concat(e,"/").concat(a)}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}nc.call(Sc),Vu("e,alt+r",(function(t){t.preventDefault(),Lc()})),window.zoomMore=function(){Sc.scaleTo(nc,u.position.zoom+.2)},window.zoomLess=function(){Sc.scaleTo(nc,u.position.zoom-.2)},window.zoomReset=Lc,n(838);var Dc=timeline,Oc=Dc.begin,zc=Dc.end;function jc(t){return new Date(1e3*t).toLocaleDateString(graphProperties.lang)}function Pc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Ic(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ic(t,e){if(t){if("string"==typeof t)return Rc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rc(t,e):void 0}}function Rc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fc(t,e){if(t){if("string"==typeof t)return qc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qc(t,e):void 0}}function qc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("timeline-checkbox"),e=document.getElementById("timeline-form"),n=document.getElementById("timeline-ticks");if(e){var r=e.querySelector("output"),i=e.querySelector('input[type="range"]');t.checked=!1,t.addEventListener("change",(function(){t.checked?(e.classList.add("active"),a(),o(),window.addEventListener("resize",a),i.addEventListener("input",o)):(e.classList.remove("active"),window.removeEventListener("resize",a),i.removeEventListener("input",o),pc(tc.filteredByTimeline),Tc())}))}function o(){var t=i.value;r.value=jc(t);var e,n=[],o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Uc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(data.nodes);try{for(o.s();!(e=o.n()).done;){var a=e.value,s=a.begin,u=a.end,c=a.id;void 0===u&&(u=zc),void 0===s&&(s=Oc),t>=s&&t<=u&&n.push(c)}}catch(t){o.e(t)}finally{o.f()}lc(n,tc.filteredByTimeline),Tc()}function a(){var t=Math.round(e.offsetWidth/100),r=Math.round((zc-Oc)/t);n.setAttribute("style","--list-length: ".concat(t+1,";")),n.innerHTML="";var a=function(t){var e=document.createElement("option");e.value=t,e.textContent=jc(t),e.addEventListener("click",(function(){i.value=t,o()})),n.appendChild(e)};a(Oc);for(var s=1;s<=t;s++)a(s!==t?Oc+r*s:zc)}})),window.addEventListener("DOMContentLoaded",(function(){for(var t,e=document.getElementById("types-form"),n=e.querySelectorAll("input"),r=0,i=Object.entries(typeList);r<i.length;r++){var o=Pc(i[r],2),a=o[0],s=o[1].active;e.querySelector('[name="'.concat(a,'"]')).checked=s}d();var u,c=null===(t=new URL(window.location).searchParams.get("filters"))||void 0===t?void 0:t.split("-");if(null!=c&&c.length){for(var h=0,f=Object.entries(typeList);h<f.length;h++){var l=Pc(f[h],1)[0];e.querySelector('[name="'.concat(l,'"]')).checked=c.includes(l)}d()}function d(){var t=new FormData(e);t=Object.fromEntries(t);var n=new Set;t=Object.entries(typeList).filter((function(e){var n=Pc(e,1)[0];return!!t[n]})).forEach((function(t){Pc(t,2)[1].nodes.forEach((function(t){return n.add(t)}))})),lc(Array.from(n),tc.filteredByType)}e.addEventListener("change",d);var p,y=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ic(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(n);try{var g=function(){var t=p.value,r=t.name;t.checked,t.parentElement.addEventListener("click",(function(t){t.altKey&&(t.stopPropagation(),t.preventDefault(),u===r?(v(),u=void 0):(function(t){n.forEach((function(e){return e.checked=t===e.name})),e.dispatchEvent(new Event("change"))}(r),u=r))}))};for(y.s();!(p=y.n()).done;)g()}catch(t){y.e(t)}finally{y.f()}function v(){e.querySelectorAll("input:not(:checked)").forEach((function(t){return t.checked=!0})),e.dispatchEvent(new Event("change"))}hotkeys("alt+r",(function(t){t.preventDefault(),v()}))})),window.addEventListener("DOMContentLoaded",(function(){var t,e=document.getElementById("tags-form");if(e){var n=document.querySelector(".menu-tags .sorting-select"),r=sorting.tags;u(),c(),n.addEventListener("change",u),e.addEventListener("change",c);var i=null===(t=new URL(window.location).searchParams.get("tags"))||void 0===t?void 0:t.split("-");if(null!=i&&i.length){var o,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Fc(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(i);try{for(a.s();!(o=a.n()).done;){var s=o.value;e.querySelector('input[name="'.concat(s,'"]')).checked=!0}}catch(t){a.e(t)}finally{a.f()}e.dispatchEvent(new Event("change"))}Vu("alt+r",(function(t){t.preventDefault(),e.querySelectorAll("input:checked").forEach((function(t){return t.checked=!1})),e.dispatchEvent(new Event("change"))})),window.activeTag=function(t){var n=e.querySelector('input[name="'.concat(t,'"]'));n.checked=!n.checked,e.dispatchEvent(new Event("change"))}}function u(){for(var t=e.querySelectorAll("label"),i=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,i=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(t,e)||Fc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n.value.split(":"),2),o=i[0],a=i[1],s=0;s<t.length;s++){var u=r[s][o],c=t[s];"reverse"===a&&(u=t.length-1-u),c.style.order=u}}function c(){var t=new FormData(e);t=Object.fromEntries(t);var n=new Set;tagList.filter((function(e){var n=e.name;return!!t[n]})).forEach((function(t){t.nodes.forEach((function(t){return n.add(t)}))})),0!==n.size?lc(Array.from(n),tc.filteredByTag):pc(tc.filteredByTag)}}));var Yc=n(187),Bc=n(993),Wc=n(641),Kc=n(11);let Hc=function(){const t=arguments[0];for(let e=1,n=arguments.length;e<n;e++)if(arguments[e])for(const n in arguments[e])t[n]=arguments[e][n];return t};function Xc(t,e,n,r){const i=t._nodes.get(e);let o=null;return i?(o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n],o):o}function Vc(t){return"object"==typeof t&&null!==t}function Zc(t){let e;for(e in t)return!1;return!0}function Jc(t,e,n){Object.defineProperty(t,e,{enumerable:!1,configurable:!1,writable:!0,value:n})}function Qc(t,e,n){const r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(t,e,r)}function th(t){return!(!Vc(t)||t.attributes&&!Array.isArray(t.attributes))}"function"==typeof Object.assign&&(Hc=Object.assign);class eh extends Error{constructor(t){super(),this.name="GraphError",this.message=t}}class nh extends eh{constructor(t){super(t),this.name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.constructor)}}class rh extends eh{constructor(t){super(t),this.name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,rh.prototype.constructor)}}class ih extends eh{constructor(t){super(t),this.name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,ih.prototype.constructor)}}function oh(t,e){this.key=t,this.attributes=e,this.clear()}function ah(t,e){this.key=t,this.attributes=e,this.clear()}function sh(t,e){this.key=t,this.attributes=e,this.clear()}function uh(t,e,n,r,i){this.key=e,this.attributes=i,this.undirected=t,this.source=n,this.target=r}oh.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},ah.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},sh.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},uh.prototype.attach=function(){let t="out",e="in";this.undirected&&(t=e="undirected");const n=this.source.key,r=this.target.key;this.source[t][r]=this,this.undirected&&n===r||(this.target[e][n]=this)},uh.prototype.attachMulti=function(){let t="out",e="in";const n=this.source.key,r=this.target.key;this.undirected&&(t=e="undirected");const i=this.source[t],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[e][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[e][n]=this},uh.prototype.detach=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][e],delete this.target[r][t]},uh.prototype.detachMulti=function(){const t=this.source.key,e=this.target.key;let n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][e],delete this.target[r][t]):(this.next.previous=void 0,this.source[n][e]=this.next,this.target[r][t]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};function ch(t,e,n,r,i,o,a){let s,u,c,h;if(r=""+r,0===n){if(s=t._nodes.get(r),!s)throw new rh(`Graph.${e}: could not find the "${r}" node in the graph.`);c=i,h=o}else if(3===n){if(i=""+i,u=t._edges.get(i),!u)throw new rh(`Graph.${e}: could not find the "${i}" edge in the graph.`);const n=u.source.key,f=u.target.key;if(r===n)s=u.target;else{if(r!==f)throw new rh(`Graph.${e}: the "${r}" node is not attached to the "${i}" edge (${n}, ${f}).`);s=u.source}c=o,h=a}else{if(u=t._edges.get(r),!u)throw new rh(`Graph.${e}: could not find the "${r}" edge in the graph.`);s=1===n?u.source:u.target,c=i,h=o}return[s,c,h]}const hh=[{name:t=>`get${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);return o.attributes[a]}}},{name:t=>`get${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r){const[i]=ch(this,e,n,t,r);return i.attributes}}},{name:t=>`has${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);return o.attributes.hasOwnProperty(a)}}},{name:t=>`set${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){const[a,s,u]=ch(this,e,n,t,r,i,o);return a.attributes[s]=u,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:s}),this}}},{name:t=>`update${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i,o){const[a,s,u]=ch(this,e,n,t,r,i,o);if("function"!=typeof u)throw new nh(`Graph.${e}: updater should be a function.`);const c=a.attributes,h=u(c[s]);return c[s]=h,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:s}),this}}},{name:t=>`remove${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);return delete o.attributes[a],this.emit("nodeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:a}),this}}},{name:t=>`replace${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);if(!Vc(a))throw new nh(`Graph.${e}: provided attributes are not a plain object.`);return o.attributes=a,this.emit("nodeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}},{name:t=>`merge${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);if(!Vc(a))throw new nh(`Graph.${e}: provided attributes are not a plain object.`);return Hc(o.attributes,a),this.emit("nodeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:a}),this}}},{name:t=>`update${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){const[o,a]=ch(this,e,n,t,r,i);if("function"!=typeof a)throw new nh(`Graph.${e}: provided updater is not a function.`);return o.attributes=a(o.attributes),this.emit("nodeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}}],fh=[{name:t=>`get${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}return i.attributes[r]}}},{name:t=>`get${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t){let r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const i=""+t,o=""+arguments[1];if(r=Xc(this,i,o,n),!r)throw new rh(`Graph.${e}: could not find an edge for the given path ("${i}" - "${o}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,r=this._edges.get(t),!r)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}return r.attributes}}},{name:t=>`has${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}return i.attributes.hasOwnProperty(r)}}},{name:t=>`set${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){let o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+t,s=""+r;if(r=arguments[2],i=arguments[3],o=Xc(this,a,s,n),!o)throw new rh(`Graph.${e}: could not find an edge for the given path ("${a}" - "${s}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,o=this._edges.get(t),!o)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:t=>`update${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r,i){let o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+t,s=""+r;if(r=arguments[2],i=arguments[3],o=Xc(this,a,s,n),!o)throw new rh(`Graph.${e}: could not find an edge for the given path ("${a}" - "${s}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,o=this._edges.get(t),!o)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}if("function"!=typeof i)throw new nh(`Graph.${e}: updater should be a function.`);return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:t=>`remove${t}Attribute`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:t=>`replace${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}if(!Vc(r))throw new nh(`Graph.${e}: provided attributes are not a plain object.`);return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:t=>`merge${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}if(!Vc(r))throw new nh(`Graph.${e}: provided attributes are not a plain object.`);return Hc(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:t=>`update${t}Attributes`,attacher:function(t,e,n){t.prototype[e]=function(t,r){let i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new ih(`Graph.${e}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new ih(`Graph.${e}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+t,a=""+r;if(r=arguments[2],i=Xc(this,o,a,n),!i)throw new rh(`Graph.${e}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if("mixed"!==n)throw new ih(`Graph.${e}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(t=""+t,i=this._edges.get(t),!i)throw new rh(`Graph.${e}: could not find the "${t}" edge in the graph.`)}if("function"!=typeof r)throw new nh(`Graph.${e}: provided updater is not a function.`);return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],lh=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function dh(t,e,n,r){let i=!1;for(const o in e){if(o===r)continue;const a=e[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),t&&i)return a.key}}function ph(t,e,n,r){let i,o,a,s=!1;for(const u in e)if(u!==r){i=e[u];do{if(o=i.source,a=i.target,s=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),t&&s)return i.key;i=i.next}while(void 0!==i)}}function yh(t,e){const n=Object.keys(t),r=n.length;let i,o=0;return new Bc((function(){do{if(i)i=i.next;else{if(o>=r)return{done:!0};const a=n[o++];if(a===e){i=void 0;continue}i=t[a]}}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}}))}function gh(t,e,n,r){const i=e[n];if(!i)return;const o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&t?i.key:void 0}function vh(t,e,n,r){let i=e[n];if(!i)return;let o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),t&&o)return i.key;i=i.next}while(void 0!==i)}function mh(t,e){let n=t[e];return void 0!==n.next?new Bc((function(){if(!n)return{done:!0};const t={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:t}})):Bc.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function _h(t,e,n,r){if(0===e.size)return;const i="mixed"!==n&&n!==e.type,o="undirected"===n;let a,s,u=!1;const c=e._edges.values();for(;a=c.next(),!0!==a.done;){if(s=a.value,i&&s.undirected!==o)continue;const{key:e,attributes:n,source:c,target:h}=s;if(u=r(e,n,c.key,h.key,c.attributes,h.attributes,s.undirected),t&&u)return e}}function bh(t,e,n,r,i,o){const a=e?ph:dh;let s;if("undirected"!==n){if("out"!==r&&(s=a(t,i.in,o),t&&s))return s;if("in"!==r&&(s=a(t,i.out,o,r?void 0:i.key),t&&s))return s}if("directed"!==n&&(s=a(t,i.undirected,o),t&&s))return s}function wh(t,e,n,r,i,o,a){const s=n?vh:gh;let u;if("undirected"!==e){if(void 0!==i.in&&"out"!==r&&(u=s(t,i.in,o,a),t&&u))return u;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(u=s(t,i.out,o,a),t&&u))return u}if("directed"!==e&&void 0!==i.undirected&&(u=s(t,i.undirected,o,a),t&&u))return u}const xh=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function kh(){this.A=null,this.B=null}function Mh(t,e,n,r,i){for(const o in r){const a=r[o],s=a.source,u=a.target,c=s===n?u:s;if(e&&e.has(c.key))continue;const h=i(c.key,c.attributes);if(t&&h)return c.key}}function Eh(t,e,n,r,i){if("mixed"!==e){if("undirected"===e)return Mh(t,null,r,r.undirected,i);if("string"==typeof n)return Mh(t,null,r,r[n],i)}const o=new kh;let a;if("undirected"!==e){if("out"!==n){if(a=Mh(t,null,r,r.in,i),t&&a)return a;o.wrap(r.in)}if("in"!==n){if(a=Mh(t,o,r,r.out,i),t&&a)return a;o.wrap(r.out)}}if("directed"!==e&&(a=Mh(t,o,r,r.undirected,i),t&&a))return a}function Ah(t,e,n){const r=Object.keys(n),i=r.length;let o=0;return new Bc((function(){let a=null;do{if(o>=i)return t&&t.wrap(n),{done:!0};const s=n[r[o++]],u=s.source,c=s.target;a=u===e?c:u,t&&t.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function Sh(t,e,n,r,i){const o=r._nodes.values(),a=r.type;let s,u,c,h,f,l,d;for(;s=o.next(),!0!==s.done;){let r=!1;if(u=s.value,"undirected"!==a)for(c in h=u.out,h){f=h[c];do{if(l=f.target,r=!0,d=i(u.key,l.key,u.attributes,l.attributes,f.key,f.attributes,f.undirected),t&&d)return f;f=f.next}while(f)}if("directed"!==a)for(c in h=u.undirected,h)if(!(e&&u.key>c)){f=h[c];do{if(l=f.target,l.key!==c&&(l=f.source),r=!0,d=i(u.key,l.key,u.attributes,l.attributes,f.key,f.attributes,f.undirected),t&&d)return f;f=f.next}while(f)}if(n&&!r&&(d=i(u.key,null,u.attributes,null,null,null,null),t&&d))return null}}function Lh(t){if(!Vc(t))throw new nh('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in t))throw new nh("Graph.import: serialized node is missing its key.");if("attributes"in t&&(!Vc(t.attributes)||null===t.attributes))throw new nh("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Nh(t){if(!Vc(t))throw new nh('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in t))throw new nh("Graph.import: serialized edge is missing its source.");if(!("target"in t))throw new nh("Graph.import: serialized edge is missing its target.");if("attributes"in t&&(!Vc(t.attributes)||null===t.attributes))throw new nh("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in t&&"boolean"!=typeof t.undirected)throw new nh("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}kh.prototype.wrap=function(t){null===this.A?this.A=t:null===this.B&&(this.B=t)},kh.prototype.has=function(t){return null!==this.A&&t in this.A||null!==this.B&&t in this.B};const $h=function(){let t=255&Math.floor(256*Math.random());return()=>t++}(),Ch=new Set(["directed","undirected","mixed"]),Th=new Set(["domain","_events","_eventsCount","_maxListeners"]),Gh={allowSelfLoops:!0,multi:!1,type:"mixed"};function Uh(t,e,n){const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}function Dh(t,e,n,r,i,o,a,s){if(!r&&"undirected"===t.type)throw new ih(`Graph.${e}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(r&&"directed"===t.type)throw new ih(`Graph.${e}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(s&&!Vc(s))throw new nh(`Graph.${e}: invalid attributes. Expecting an object but got "${s}"`);if(o=""+o,a=""+a,s=s||{},!t.allowSelfLoops&&o===a)throw new ih(`Graph.${e}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const u=t._nodes.get(o),c=t._nodes.get(a);if(!u)throw new rh(`Graph.${e}: source node "${o}" not found.`);if(!c)throw new rh(`Graph.${e}: target node "${a}" not found.`);const h={key:null,undirected:r,source:o,target:a,attributes:s};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new ih(`Graph.${e}: the "${i}" edge already exists in the graph.`);if(!t.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new ih(`Graph.${e}: an edge linking "${o}" to "${a}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const f=new uh(r,i,u,c,s);t._edges.set(i,f);const l=o===a;return r?(u.undirectedDegree++,c.undirectedDegree++,l&&(u.undirectedLoops++,t._undirectedSelfLoopCount++)):(u.outDegree++,c.inDegree++,l&&(u.directedLoops++,t._directedSelfLoopCount++)),t.multi?f.attachMulti():f.attach(),r?t._undirectedSize++:t._directedSize++,h.key=i,t.emit("edgeAdded",h),i}function Oh(t,e,n,r,i,o,a,s,u){if(!r&&"undirected"===t.type)throw new ih(`Graph.${e}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(r&&"directed"===t.type)throw new ih(`Graph.${e}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(s)if(u){if("function"!=typeof s)throw new nh(`Graph.${e}: invalid updater function. Expecting a function but got "${s}"`)}else if(!Vc(s))throw new nh(`Graph.${e}: invalid attributes. Expecting an object but got "${s}"`);let c;if(o=""+o,a=""+a,u&&(c=s,s=void 0),!t.allowSelfLoops&&o===a)throw new ih(`Graph.${e}: source & target are the same ("${o}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let h,f,l=t._nodes.get(o),d=t._nodes.get(a);if(!n&&(h=t._edges.get(i),h)){if(!(h.source.key===o&&h.target.key===a||r&&h.source.key===a&&h.target.key===o))throw new ih(`Graph.${e}: inconsistency detected when attempting to merge the "${i}" edge with "${o}" source & "${a}" target vs. ("${h.source.key}", "${h.target.key}").`);f=h}if(f||t.multi||!l||(f=r?l.undirected[a]:l.out[a]),f){const e=[f.key,!1,!1,!1];if(u?!c:!s)return e;if(u){const e=f.attributes;f.attributes=c(e),t.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else Hc(f.attributes,s),t.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:s});return e}s=s||{},u&&c&&(s=c(s));const p={key:null,undirected:r,source:o,target:a,attributes:s};if(n)i=t._edgeKeyGenerator();else if(i=""+i,t._edges.has(i))throw new ih(`Graph.${e}: the "${i}" edge already exists in the graph.`);let y=!1,g=!1;l||(l=Uh(t,o,{}),y=!0,o===a&&(d=l,g=!0)),d||(d=Uh(t,a,{}),g=!0),h=new uh(r,i,l,d,s),t._edges.set(i,h);const v=o===a;return r?(l.undirectedDegree++,d.undirectedDegree++,v&&(l.undirectedLoops++,t._undirectedSelfLoopCount++)):(l.outDegree++,d.inDegree++,v&&(l.directedLoops++,t._directedSelfLoopCount++)),t.multi?h.attachMulti():h.attach(),r?t._undirectedSize++:t._directedSize++,p.key=i,t.emit("edgeAdded",p),[i,!0,y,g]}function zh(t,e){t._edges.delete(e.key);const{source:n,target:r,attributes:i}=e,o=e.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,t._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,t._directedSelfLoopCount--)),t.multi?e.detachMulti():e.detach(),o?t._undirectedSize--:t._directedSize--,t.emit("edgeDropped",{key:e.key,attributes:i,source:n.key,target:r.key,undirected:o})}class jh extends Yc.EventEmitter{constructor(t){if(super(),"boolean"!=typeof(t=Hc({},Gh,t)).multi)throw new nh(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${t.multi}".`);if(!Ch.has(t.type))throw new nh(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${t.type}".`);if("boolean"!=typeof t.allowSelfLoops)throw new nh(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${t.allowSelfLoops}".`);Jc(this,"NodeDataClass","mixed"===t.type?oh:"directed"===t.type?ah:sh);const e="geid_"+$h()+"_";let n=0;Jc(this,"_attributes",{}),Jc(this,"_nodes",new Map),Jc(this,"_edges",new Map),Jc(this,"_directedSize",0),Jc(this,"_undirectedSize",0),Jc(this,"_directedSelfLoopCount",0),Jc(this,"_undirectedSelfLoopCount",0),Jc(this,"_edgeKeyGenerator",(()=>{let t;do{t=e+n++}while(this._edges.has(t));return t})),Jc(this,"_options",t),Th.forEach((t=>Jc(this,t,this[t]))),Qc(this,"order",(()=>this._nodes.size)),Qc(this,"size",(()=>this._edges.size)),Qc(this,"directedSize",(()=>this._directedSize)),Qc(this,"undirectedSize",(()=>this._undirectedSize)),Qc(this,"selfLoopCount",(()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount)),Qc(this,"directedSelfLoopCount",(()=>this._directedSelfLoopCount)),Qc(this,"undirectedSelfLoopCount",(()=>this._undirectedSelfLoopCount)),Qc(this,"multi",this._options.multi),Qc(this,"type",this._options.type),Qc(this,"allowSelfLoops",this._options.allowSelfLoops),Qc(this,"implementation",(()=>"graphology"))}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(t){return this._nodes.has(""+t)}hasDirectedEdge(t,e){if("undirected"===this.type)return!1;if(1===arguments.length){const e=""+t,n=this._edges.get(e);return!!n&&!n.undirected}if(2===arguments.length){t=""+t,e=""+e;const n=this._nodes.get(t);return!!n&&n.out.hasOwnProperty(e)}throw new nh(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(t,e){if("directed"===this.type)return!1;if(1===arguments.length){const e=""+t,n=this._edges.get(e);return!!n&&n.undirected}if(2===arguments.length){t=""+t,e=""+e;const n=this._nodes.get(t);return!!n&&n.undirected.hasOwnProperty(e)}throw new nh(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(t,e){if(1===arguments.length){const e=""+t;return this._edges.has(e)}if(2===arguments.length){t=""+t,e=""+e;const n=this._nodes.get(t);return!!n&&(void 0!==n.out&&n.out.hasOwnProperty(e)||void 0!==n.undirected&&n.undirected.hasOwnProperty(e))}throw new nh(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(t,e){if("undirected"===this.type)return;if(t=""+t,e=""+e,this.multi)throw new ih("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const n=this._nodes.get(t);if(!n)throw new rh(`Graph.directedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.directedEdge: could not find the "${e}" target node in the graph.`);const r=n.out&&n.out[e]||void 0;return r?r.key:void 0}undirectedEdge(t,e){if("directed"===this.type)return;if(t=""+t,e=""+e,this.multi)throw new ih("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const n=this._nodes.get(t);if(!n)throw new rh(`Graph.undirectedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.undirectedEdge: could not find the "${e}" target node in the graph.`);const r=n.undirected&&n.undirected[e]||void 0;return r?r.key:void 0}edge(t,e){if(this.multi)throw new ih("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.edge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.edge: could not find the "${e}" target node in the graph.`);const r=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(r)return r.key}areDirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areDirectedNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&(e in n.in||e in n.out)}areOutNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areOutNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&e in n.out}areInNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areInNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&e in n.in}areUndirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areUndirectedNeighbors: could not find the "${t}" node in the graph.`);return"directed"!==this.type&&e in n.undirected}areNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&(e in n.in||e in n.out)||"directed"!==this.type&&e in n.undirected}areInboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areInboundNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&e in n.in||"directed"!==this.type&&e in n.undirected}areOutboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.areOutboundNeighbors: could not find the "${t}" node in the graph.`);return"undirected"!==this.type&&e in n.out||"directed"!==this.type&&e in n.undirected}inDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.inDegree: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.inDegree}outDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.outDegree: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.outDegree}directedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.directedDegree: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.inDegree+e.outDegree}undirectedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.undirectedDegree: could not find the "${t}" node in the graph.`);return"directed"===this.type?0:e.undirectedDegree}inboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.inboundDegree: could not find the "${t}" node in the graph.`);let n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree),n}outboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.outboundDegree: could not find the "${t}" node in the graph.`);let n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.outDegree),n}degree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.degree: could not find the "${t}" node in the graph.`);let n=0;return"directed"!==this.type&&(n+=e.undirectedDegree),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree),n}inDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.inDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.inDegree-e.directedLoops}outDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.outDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.outDegree-e.directedLoops}directedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.directedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return"undirected"===this.type?0:e.inDegree+e.outDegree-2*e.directedLoops}undirectedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);return"directed"===this.type?0:e.undirectedDegree-2*e.undirectedLoops}inboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree,r+=e.directedLoops),n-r}outboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.outDegree,r+=e.directedLoops),n-r}degreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.degreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n=0,r=0;return"directed"!==this.type&&(n+=e.undirectedDegree,r+=2*e.undirectedLoops),"undirected"!==this.type&&(n+=e.inDegree+e.outDegree,r+=2*e.directedLoops),n-r}source(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.source: could not find the "${t}" edge in the graph.`);return e.source.key}target(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.target: could not find the "${t}" edge in the graph.`);return e.target.key}extremities(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.extremities: could not find the "${t}" edge in the graph.`);return[e.source.key,e.target.key]}opposite(t,e){t=""+t,e=""+e;const n=this._edges.get(e);if(!n)throw new rh(`Graph.opposite: could not find the "${e}" edge in the graph.`);const r=n.source.key,i=n.target.key;if(t===r)return i;if(t===i)return r;throw new rh(`Graph.opposite: the "${t}" node is not attached to the "${e}" edge (${r}, ${i}).`)}hasExtremity(t,e){t=""+t,e=""+e;const n=this._edges.get(t);if(!n)throw new rh(`Graph.hasExtremity: could not find the "${t}" edge in the graph.`);return n.source.key===e||n.target.key===e}isUndirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.isUndirected: could not find the "${t}" edge in the graph.`);return e.undirected}isDirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.isDirected: could not find the "${t}" edge in the graph.`);return!e.undirected}isSelfLoop(t){t=""+t;const e=this._edges.get(t);if(!e)throw new rh(`Graph.isSelfLoop: could not find the "${t}" edge in the graph.`);return e.source===e.target}addNode(t,e){const n=function(t,e,n){if(n&&!Vc(n))throw new nh(`Graph.addNode: invalid attributes. Expecting an object but got "${n}"`);if(e=""+e,n=n||{},t._nodes.has(e))throw new ih(`Graph.addNode: the "${e}" node already exist in the graph.`);const r=new t.NodeDataClass(e,n);return t._nodes.set(e,r),t.emit("nodeAdded",{key:e,attributes:n}),r}(this,t,e);return n.key}mergeNode(t,e){if(e&&!Vc(e))throw new nh(`Graph.mergeNode: invalid attributes. Expecting an object but got "${e}"`);t=""+t,e=e||{};let n=this._nodes.get(t);return n?(e&&(Hc(n.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])}updateNode(t,e){if(e&&"function"!=typeof e)throw new nh(`Graph.updateNode: invalid updater function. Expecting a function but got "${e}"`);t=""+t;let n=this._nodes.get(t);if(n){if(e){const r=n.attributes;n.attributes=e(r),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:n.attributes})}return[t,!1]}const r=e?e({}):{};return n=new this.NodeDataClass(t,r),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:r}),[t,!0]}dropNode(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.dropNode: could not find the "${t}" node in the graph.`);let n;if("undirected"!==this.type){for(const t in e.out){n=e.out[t];do{zh(this,n),n=n.next}while(n)}for(const t in e.in){n=e.in[t];do{zh(this,n),n=n.next}while(n)}}if("directed"!==this.type)for(const t in e.undirected){n=e.undirected[t];do{zh(this,n),n=n.next}while(n)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:e.attributes})}dropEdge(t){let e;if(arguments.length>1){const t=""+arguments[0],n=""+arguments[1];if(e=Xc(this,t,n,this.type),!e)throw new rh(`Graph.dropEdge: could not find the "${t}" -> "${n}" edge in the graph.`)}else if(t=""+t,e=this._edges.get(t),!e)throw new rh(`Graph.dropEdge: could not find the "${t}" edge in the graph.`);return zh(this,e),this}dropDirectedEdge(t,e){if(arguments.length<2)throw new ih("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ih("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const n=Xc(this,t=""+t,e=""+e,"directed");if(!n)throw new rh(`Graph.dropDirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return zh(this,n),this}dropUndirectedEdge(t,e){if(arguments.length<2)throw new ih("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new ih("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const n=Xc(this,t,e,"undirected");if(!n)throw new rh(`Graph.dropUndirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return zh(this,n),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const t=this._nodes.values();let e;for(;e=t.next(),!0!==e.done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(t){return this._attributes[t]}getAttributes(){return this._attributes}hasAttribute(t){return this._attributes.hasOwnProperty(t)}setAttribute(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}updateAttribute(t,e){if("function"!=typeof e)throw new nh("Graph.updateAttribute: updater should be a function.");const n=this._attributes[t];return this._attributes[t]=e(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}removeAttribute(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this}replaceAttributes(t){if(!Vc(t))throw new nh("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(t){if(!Vc(t))throw new nh("Graph.mergeAttributes: provided attributes are not a plain object.");return Hc(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this}updateAttributes(t){if("function"!=typeof t)throw new nh("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(t,e){if("function"!=typeof t)throw new nh("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!th(e))throw new nh("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._nodes.values();let r,i;for(;r=n.next(),!0!==r.done;)i=r.value,i.attributes=t(i.key,i.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})}updateEachEdgeAttributes(t,e){if("function"!=typeof t)throw new nh("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!th(e))throw new nh("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._edges.values();let r,i,o,a;for(;r=n.next(),!0!==r.done;)i=r.value,o=i.source,a=i.target,i.attributes=t(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})}forEachAdjacencyEntry(t){if("function"!=typeof t)throw new nh("Graph.forEachAdjacencyEntry: expecting a callback.");Sh(!1,!1,!1,this,t)}forEachAdjacencyEntryWithOrphans(t){if("function"!=typeof t)throw new nh("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");Sh(!1,!1,!0,this,t)}forEachAssymetricAdjacencyEntry(t){if("function"!=typeof t)throw new nh("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");Sh(!1,!0,!1,this,t)}forEachAssymetricAdjacencyEntryWithOrphans(t){if("function"!=typeof t)throw new nh("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");Sh(!1,!0,!0,this,t)}nodes(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):Wc(this._nodes.keys(),this._nodes.size)}forEachNode(t){if("function"!=typeof t)throw new nh("Graph.forEachNode: expecting a callback.");const e=this._nodes.values();let n,r;for(;n=e.next(),!0!==n.done;)r=n.value,t(r.key,r.attributes)}findNode(t){if("function"!=typeof t)throw new nh("Graph.findNode: expecting a callback.");const e=this._nodes.values();let n,r;for(;n=e.next(),!0!==n.done;)if(r=n.value,t(r.key,r.attributes))return r.key}mapNodes(t){if("function"!=typeof t)throw new nh("Graph.mapNode: expecting a callback.");const e=this._nodes.values();let n,r;const i=new Array(this.order);let o=0;for(;n=e.next(),!0!==n.done;)r=n.value,i[o++]=t(r.key,r.attributes);return i}someNode(t){if("function"!=typeof t)throw new nh("Graph.someNode: expecting a callback.");const e=this._nodes.values();let n,r;for(;n=e.next(),!0!==n.done;)if(r=n.value,t(r.key,r.attributes))return!0;return!1}everyNode(t){if("function"!=typeof t)throw new nh("Graph.everyNode: expecting a callback.");const e=this._nodes.values();let n,r;for(;n=e.next(),!0!==n.done;)if(r=n.value,!t(r.key,r.attributes))return!1;return!0}filterNodes(t){if("function"!=typeof t)throw new nh("Graph.filterNodes: expecting a callback.");const e=this._nodes.values();let n,r;const i=[];for(;n=e.next(),!0!==n.done;)r=n.value,t(r.key,r.attributes)&&i.push(r.key);return i}reduceNodes(t,e){if("function"!=typeof t)throw new nh("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new nh("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let n=e;const r=this._nodes.values();let i,o;for(;i=r.next(),!0!==i.done;)o=i.value,n=t(n,o.key,o.attributes);return n}nodeEntries(){const t=this._nodes.values();return new Bc((()=>{const e=t.next();if(e.done)return e;const n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))}export(){const t=new Array(this._nodes.size);let e=0;this._nodes.forEach(((n,r)=>{t[e++]=function(t,e){const n={key:t};return Zc(e.attributes)||(n.attributes=Hc({},e.attributes)),n}(r,n)}));const n=new Array(this._edges.size);return e=0,this._edges.forEach(((t,r)=>{n[e++]=function(t,e,n){const r={key:e,source:n.source.key,target:n.target.key};return Zc(n.attributes)||(r.attributes=Hc({},n.attributes)),"mixed"===t&&n.undirected&&(r.undirected=!0),r}(this.type,r,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}}import(t,e=!1){if(t instanceof jh)return t.forEachNode(((t,n)=>{e?this.mergeNode(t,n):this.addNode(t,n)})),t.forEachEdge(((t,n,r,i,o,a,s)=>{e?s?this.mergeUndirectedEdgeWithKey(t,r,i,n):this.mergeDirectedEdgeWithKey(t,r,i,n):s?this.addUndirectedEdgeWithKey(t,r,i,n):this.addDirectedEdgeWithKey(t,r,i,n)})),this;if(!Vc(t))throw new nh("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!Vc(t.attributes))throw new nh("Graph.import: invalid attributes. Expecting a plain object.");e?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}let n,r,i,o,a;if(t.nodes){if(i=t.nodes,!Array.isArray(i))throw new nh("Graph.import: invalid nodes. Expecting an array.");for(n=0,r=i.length;n<r;n++){o=i[n],Lh(o);const{key:t,attributes:r}=o;e?this.mergeNode(t,r):this.addNode(t,r)}}if(t.edges){let o=!1;if("undirected"===this.type&&(o=!0),i=t.edges,!Array.isArray(i))throw new nh("Graph.import: invalid edges. Expecting an array.");for(n=0,r=i.length;n<r;n++){a=i[n],Nh(a);const{source:t,target:r,attributes:s,undirected:u=o}=a;let c;"key"in a?(c=e?u?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:u?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,c.call(this,a.key,t,r,s)):(c=e?u?this.mergeUndirectedEdge:this.mergeDirectedEdge:u?this.addUndirectedEdge:this.addDirectedEdge,c.call(this,t,r,s))}}return this}nullCopy(t){const e=new jh(Hc({},this._options,t));return e.replaceAttributes(Hc({},this.getAttributes())),e}emptyCopy(t){const e=this.nullCopy(t);return this._nodes.forEach(((t,n)=>{const r=Hc({},t.attributes);t=new e.NodeDataClass(n,r),e._nodes.set(n,t)})),e}copy(t){if("string"==typeof(t=t||{}).type&&t.type!==this.type&&"mixed"!==t.type)throw new ih(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${t.type}" because this would mean losing information about the current graph.`);if("boolean"==typeof t.multi&&t.multi!==this.multi&&!0!==t.multi)throw new ih("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof t.allowSelfLoops&&t.allowSelfLoops!==this.allowSelfLoops&&!0!==t.allowSelfLoops)throw new ih("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const e=this.emptyCopy(t),n=this._edges.values();let r,i;for(;r=n.next(),!0!==r.done;)i=r.value,Dh(e,"copy",!1,i.undirected,i.key,i.source.key,i.target.key,Hc({},i.attributes));return e}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const t={};this._nodes.forEach(((e,n)=>{t[n]=e.attributes}));const e={},n={};this._edges.forEach(((t,r)=>{const i=t.undirected?"--":"->";let o,a="",s=t.source.key,u=t.target.key;t.undirected&&s>u&&(o=s,s=u,u=o);const c=`(${s})${i}(${u})`;r.startsWith("geid_")?this.multi&&(void 0===n[c]?n[c]=0:n[c]++,a+=`${n[c]}. `):a+=`[${r}]: `,a+=c,e[a]=t.attributes}));const r={};for(const t in this)this.hasOwnProperty(t)&&!Th.has(t)&&"function"!=typeof this[t]&&"symbol"!=typeof t&&(r[t]=this[t]);return r.attributes=this._attributes,r.nodes=t,r.edges=e,Jc(r,"constructor",this.constructor),r}}"undefined"!=typeof Symbol&&(jh.prototype[Symbol.for("nodejs.util.inspect.custom")]=jh.prototype.inspect),[{name:t=>`${t}Edge`,generateKey:!0},{name:t=>`${t}DirectedEdge`,generateKey:!0,type:"directed"},{name:t=>`${t}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:t=>`${t}EdgeWithKey`},{name:t=>`${t}DirectedEdgeWithKey`,type:"directed"},{name:t=>`${t}UndirectedEdgeWithKey`,type:"undirected"}].forEach((t=>{["add","merge","update"].forEach((e=>{const n=t.name(e),r="add"===e?Dh:Oh;t.generateKey?jh.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(t.type||this.type),null,i,o,a,"update"===e)}:jh.prototype[n]=function(i,o,a,s){return r(this,n,!1,"undirected"===(t.type||this.type),i,o,a,s,"update"===e)}}))})),function(t){hh.forEach((function({name:e,attacher:n}){n(t,e("Node"),0),n(t,e("Source"),1),n(t,e("Target"),2),n(t,e("Opposite"),3)}))}(jh),function(t){fh.forEach((function({name:e,attacher:n}){n(t,e("Edge"),"mixed"),n(t,e("DirectedEdge"),"directed"),n(t,e("UndirectedEdge"),"undirected")}))}(jh),function(t){lh.forEach((e=>{(function(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return function(t,e){if(0===t.size)return[];if("mixed"===e||e===t.type)return"function"==typeof Array.from?Array.from(t._edges.keys()):Wc(t._edges.keys(),t._edges.size);const n="undirected"===e?t.undirectedSize:t.directedSize,r=new Array(n),i="undirected"===e,o=t._edges.values();let a,s,u=0;for(;a=o.next(),!0!==a.done;)s=a.value,s.undirected===i&&(r[u++]=s.key);return r}(this,r);if(1===arguments.length){t=""+t;const e=this._nodes.get(t);if(void 0===e)throw new rh(`Graph.${n}: could not find the "${t}" node in the graph.`);return function(t,e,n,r){const i=[];return bh(!1,t,e,n,r,(function(t){i.push(t)})),i}(this.multi,"mixed"===r?this.type:r,i,e)}if(2===arguments.length){t=""+t,e=""+e;const o=this._nodes.get(t);if(!o)throw new rh(`Graph.${n}:  could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.${n}:  could not find the "${e}" target node in the graph.`);return function(t,e,n,r,i){const o=[];return wh(!1,t,e,n,r,i,(function(t){o.push(t)})),o}(r,this.multi,i,o,e)}throw new nh(`Graph.${n}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}})(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return _h(!1,this,r,n=t);if(2===arguments.length){t=""+t,n=e;const a=this._nodes.get(t);if(void 0===a)throw new rh(`Graph.${o}: could not find the "${t}" node in the graph.`);return bh(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;const a=this._nodes.get(t);if(!a)throw new rh(`Graph.${o}:  could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.${o}:  could not find the "${e}" target node in the graph.`);return wh(!1,r,this.multi,i,a,e,n)}throw new nh(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(){const t=Array.prototype.slice.call(arguments),e=t.pop();let n;if(0===t.length){let i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),n=new Array(i);let o=0;t.push(((t,r,i,a,s,u,c)=>{n[o++]=e(t,r,i,a,s,u,c)}))}else n=[],t.push(((t,r,i,o,a,s,u)=>{n.push(e(t,r,i,o,a,s,u))}));return this[o].apply(this,t),n};const s="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[s]=function(){const t=Array.prototype.slice.call(arguments),e=t.pop(),n=[];return t.push(((t,r,i,o,a,s,u)=>{e(t,r,i,o,a,s,u)&&n.push(t)})),this[o].apply(this,t),n};const u="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(){let t,e,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new nh(`Graph.${u}: invalid number of arguments (expecting 2, 3 or 4 and got ${n.length}).`);if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new nh(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);2===n.length?(t=n[0],e=n[1],n=[]):3===n.length?(t=n[1],e=n[2],n=[n[0]]):4===n.length&&(t=n[2],e=n[3],n=[n[0],n[1]]);let r=e;return n.push(((e,n,i,o,a,s,u)=>{r=t(r,e,n,i,o,a,s,u)})),this[o].apply(this,n),r}}(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o="find"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return _h(!0,this,r,n=t);if(2===arguments.length){t=""+t,n=e;const a=this._nodes.get(t);if(void 0===a)throw new rh(`Graph.${o}: could not find the "${t}" node in the graph.`);return bh(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){t=""+t,e=""+e;const a=this._nodes.get(t);if(!a)throw new rh(`Graph.${o}:  could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.${o}:  could not find the "${e}" target node in the graph.`);return wh(!0,r,this.multi,i,a,e,n)}throw new nh(`Graph.${o}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const a="some"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[a]=function(){const t=Array.prototype.slice.call(arguments),e=t.pop();return t.push(((t,n,r,i,o,a,s)=>e(t,n,r,i,o,a,s))),!!this[o].apply(this,t)};const s="every"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[s]=function(){const t=Array.prototype.slice.call(arguments),e=t.pop();return t.push(((t,n,r,i,o,a,s)=>!e(t,n,r,i,o,a,s))),!this[o].apply(this,t)}}(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return Bc.empty();if(!arguments.length)return function(t,e){if(0===t.size)return Bc.empty();const n="mixed"!==e&&e!==t.type,r="undirected"===e,i=t._edges.values();return new Bc((function(){let t,e;for(;;){if(t=i.next(),t.done)return t;if(e=t.value,!n||e.undirected===r)break}return{value:{edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected},done:!1}}))}(this,r);if(1===arguments.length){t=""+t;const e=this._nodes.get(t);if(!e)throw new rh(`Graph.${o}: could not find the "${t}" node in the graph.`);return function(t,e,n){let r=Bc.empty();return"undirected"!==t&&("out"!==e&&void 0!==n.in&&(r=Kc(r,yh(n.in))),"in"!==e&&void 0!==n.out&&(r=Kc(r,yh(n.out,e?void 0:n.key)))),"directed"!==t&&void 0!==n.undirected&&(r=Kc(r,yh(n.undirected))),r}(r,i,e)}if(2===arguments.length){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new rh(`Graph.${o}:  could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new rh(`Graph.${o}:  could not find the "${e}" target node in the graph.`);return function(t,e,n,r){let i=Bc.empty();return"undirected"!==t&&(void 0!==n.in&&"out"!==e&&r in n.in&&(i=Kc(i,mh(n.in,r))),void 0!==n.out&&"in"!==e&&r in n.out&&(e||n.key!==r)&&(i=Kc(i,mh(n.out,r)))),"directed"!==t&&void 0!==n.undirected&&r in n.undirected&&(i=Kc(i,mh(n.undirected,r))),i}(r,i,n,e)}throw new nh(`Graph.${o}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}(t,e)}))}(jh),function(t){xh.forEach((e=>{(function(t,e){const{name:n,type:r,direction:i}=e;t.prototype[n]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];t=""+t;const e=this._nodes.get(t);if(void 0===e)throw new rh(`Graph.${n}: could not find the "${t}" node in the graph.`);return function(t,e,n){if("mixed"!==t){if("undirected"===t)return Object.keys(n.undirected);if("string"==typeof e)return Object.keys(n[e])}const r=[];return Eh(!1,t,e,n,(function(t){r.push(t)})),r}("mixed"===r?this.type:r,i,e)}})(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);t.prototype[o]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return;t=""+t;const n=this._nodes.get(t);if(void 0===n)throw new rh(`Graph.${o}: could not find the "${t}" node in the graph.`);Eh(!1,"mixed"===r?this.type:r,i,n,e)};const a="map"+n[0].toUpperCase()+n.slice(1);t.prototype[a]=function(t,e){const n=[];return this[o](t,((t,r)=>{n.push(e(t,r))})),n};const s="filter"+n[0].toUpperCase()+n.slice(1);t.prototype[s]=function(t,e){const n=[];return this[o](t,((t,r)=>{e(t,r)&&n.push(t)})),n};const u="reduce"+n[0].toUpperCase()+n.slice(1);t.prototype[u]=function(t,e,n){if(arguments.length<3)throw new nh(`Graph.${u}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let r=n;return this[o](t,((t,n)=>{r=e(r,t,n)})),r}}(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;t.prototype[a]=function(t,e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return;t=""+t;const n=this._nodes.get(t);if(void 0===n)throw new rh(`Graph.${a}: could not find the "${t}" node in the graph.`);return Eh(!0,"mixed"===r?this.type:r,i,n,e)};const s="some"+o;t.prototype[s]=function(t,e){return!!this[a](t,e)};const u="every"+o;t.prototype[u]=function(t,e){return!this[a](t,((t,n)=>!e(t,n)))}}(t,e),function(t,e){const{name:n,type:r,direction:i}=e,o=n.slice(0,-1)+"Entries";t.prototype[o]=function(t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return Bc.empty();t=""+t;const e=this._nodes.get(t);if(void 0===e)throw new rh(`Graph.${o}: could not find the "${t}" node in the graph.`);return function(t,e,n){if("mixed"!==t){if("undirected"===t)return Ah(null,n,n.undirected);if("string"==typeof e)return Ah(null,n,n[e])}let r=Bc.empty();const i=new kh;return"undirected"!==t&&("out"!==e&&(r=Kc(r,Ah(i,n,n.in))),"in"!==e&&(r=Kc(r,Ah(i,n,n.out)))),"directed"!==t&&(r=Kc(r,Ah(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,e)}}(t,e)}))}(jh);class Ph extends jh{constructor(t){const e=Hc({type:"directed"},t);if("multi"in e&&!1!==e.multi)throw new nh("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==e.type)throw new nh('DirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class Ih extends jh{constructor(t){const e=Hc({type:"undirected"},t);if("multi"in e&&!1!==e.multi)throw new nh("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==e.type)throw new nh('UndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class Rh extends jh{constructor(t){const e=Hc({multi:!0},t);if("multi"in e&&!0!==e.multi)throw new nh("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(e)}}class Fh extends jh{constructor(t){const e=Hc({type:"directed",multi:!0},t);if("multi"in e&&!0!==e.multi)throw new nh("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==e.type)throw new nh('MultiDirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class qh extends jh{constructor(t){const e=Hc({type:"undirected",multi:!0},t);if("multi"in e&&!0!==e.multi)throw new nh("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==e.type)throw new nh('MultiUndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}function Yh(t){t.from=function(e,n){const r=Hc({},e.options,n),i=new t(r);return i.import(e),i}}Yh(jh),Yh(Ph),Yh(Ih),Yh(Rh),Yh(Fh),Yh(qh),jh.Graph=jh,jh.DirectedGraph=Ph,jh.UndirectedGraph=Ih,jh.MultiGraph=Rh,jh.MultiDirectedGraph=Fh,jh.MultiUndirectedGraph=qh,jh.InvalidArgumentsGraphError=nh,jh.NotFoundGraphError=rh,jh.UsageGraphError=ih;var Bh=n(181);function Wh(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Kh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kh(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Hh=function(){var t,e=new jh,n=Wh(data.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.id,o=r.label;e.hasNode(i)||e.addNode(i,{label:o})}}catch(t){n.e(t)}finally{n.f()}var a,s=Wh(data.links);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.source,h=u.target;e.hasEdge(c.id,h.id)||e.addEdge(c.id,h.id)}}catch(t){s.e(t)}finally{s.f()}return e}();window.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("focus-check"),e=document.getElementById("focus-mode-select"),n=document.getElementById("focus-input");if(!1!==focusIsActive){var r;t.checked=!1;var i=new URL(window.location).searchParams,o=Number(i.get("focus"));!1===isNaN(o)&&o>0&&(n.value=o,a()),Vu("f",(function(e){e.preventDefault(),t.checked=!t.checked,t.dispatchEvent(new Event("change"))})),Vu("alt+r",(function(e){e.preventDefault(),t.checked=!1,t.dispatchEvent(new Event("change"))})),t.addEventListener("change",(function(){t.checked?a():(n.classList.remove("active"),n.removeEventListener("input",s),e.removeEventListener("change",u),pc(tc.filteredByFocus))}))}function a(){void 0!==xc()?(u(),e.addEventListener("change",u),s(),n.classList.add("active"),n.addEventListener("input",s),n.focus()):t.checked=!1}function s(){var t=xc(),e=[];(0,Bh.a)(Hh,t,(function(t,r,i){return e.push(t),i>=n.valueAsNumber}),{mode:r}),lc(e,tc.filteredByFocus)}function u(){r=e.value,s()}}))})()})();